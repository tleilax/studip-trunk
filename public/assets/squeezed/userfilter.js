STUDIP.Dialogs={showConfirmDialog:function(b,c){var a=_.memoize(function(e){return _.template(jQuery("#"+e).html())});var d=a("confirm_dialog");$("body").append(d({question:b,confirm:c}));return false},closeConfirmDialog:function(){$("div.modaloverlay").remove()}};STUDIP.UserFilter={configureCondition:function(a,b){STUDIP.Dialog.fromURL(b,{title:"Bedingung konfigurieren".toLocaleString(),size:Math.min(Math.round(0.9*$(window).width()),850)+"x400",method:"post",id:"configurecondition"});return false},addCondition:function(a,d){var b=$(".conditionfield");var c="";$(".conditionfield").each(function(){c+="&field[]="+encodeURIComponent($(this).children(".conditionfield_class:first").val())+"&compare_operator[]="+encodeURIComponent($(this).children(".conditionfield_compare_op:first").val())+"&value[]="+encodeURIComponent($(this).children(".conditionfield_value:first").val())});$.ajax({type:"post",url:d,data:c,dataType:"html",success:function(g,h,f){var e="";if($("#"+a).children(".nofilter").length>0){$("#"+a).children(".nofilter").remove();$("#"+a).prepend('<div class="userfilter"></div>')}else{e+="<b>"+"oder".toLocaleString()+"</b>"}e+=g;$("#"+a).find(".userfilter").append(e)}});STUDIP.Dialog.close({id:"configurecondition"})},getConditionFieldConfiguration:function(a,c){var b=$(a).parent();$.ajax(c,{url:c,data:{fieldtype:$(a).val()},success:function(e,f,d){b.children(".conditionfield_compare_op").remove();b.children(".conditionfield_value").remove();b.children(".conditionfield_delete").first().before(e)},error:function(d,f,e){alert("Status: "+f+"\nError: "+e)}});return false},addConditionField:function(a,b){$.ajax({url:b,success:function(d,e,c){$("#"+a).append(d)},error:function(c,e,d){alert("Status: "+e+"\nError: "+d)}});return false},removeConditionField:function(a){a.remove();STUDIP.Dialogs.closeConfirmDialog();return false},closeDialog:function(b){var a=$(b).parents("div[role=dialog]").first();a.remove();return false}};