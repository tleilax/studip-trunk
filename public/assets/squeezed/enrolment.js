STUDIP.enrollment=function(){var d=null;var a=false;var b=$("#enrollment .icons .delete");$("#enrollment .hidden-js").remove();function c(h){var j=h.attr("class");var i=j.split(" ");return i[0]}function g(h,i,j){j.find("li:not(.empty)").each(function(l){var n=$(this);var p=c(n);var k=n.find(".delete").length>0;var o=n.find("input");var m=o.length>0;l+=1;if(!k){b.clone().addClass(p+" delete").appendTo(n)}if(!m){n.append('<input type="hidden" name="admission_prio['+p+']" value="'+l+'">');o=n.find("input")}o.val(l)})}function f(j,h){var i=new RegExp(j,"gi");if(j.length>0){h.find("li").each(function(l,m){m=$(m);var k=m.text();if(k.search(i)!==-1){m.show()}else{m.hide()}})}else{h.find("li").show()}}function e(j){var i=j.find("li").length;var h=j.find("li.empty");if(i>1){h.hide()}else{h.show()}}$("#enrollment #selected-courses").sortable({appendTo:"#enrollment",cursor:"move",cancel:"li.empty",placeholder:"ui-state-highlight",helper:"clone",update:function(h,i){g(h,i,$(this));e($(this))}}).on("click",".delete",function(){var i=$(this);var h=i.parent();var j=c(i);$("#avaliable-courses").find("."+j).addClass("visible").show();h.remove();e($("#enrollment #selected-courses"))});$("#enrollment #avaliable-courses li").draggable({cursor:"move",helper:"clone",appendTo:"#enrollment",connectToSortable:"#selected-courses",activeClass:"ui-state-highlight",start:function(h,i){d=$(this)},revert:function(h){a=h},stop:function(h,i){if(a){d.removeClass("visible").hide()}}});$('#enrollment input[name="filter"]').bind("keyup",function(){var i=$(this);var h=i.next("ul");f(i.val(),h)})};