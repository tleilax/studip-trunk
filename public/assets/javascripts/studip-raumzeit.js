!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=62)}({62:function(e,t){!function(e,t,n){"use strict";function a(){e("#block_appointments_days input").click(function(){var t=parseInt(this.id.split("_").pop(),10);0===t||1===t?e("#block_appointments_days input:checkbox").prop("checked",function(e){return e===t}):(e("#block_appointments_days_0").prop("checked",!1),e("#block_appointments_days_1").prop("checked",!1))})}e(document).ready(a),e(document).on("dialog-open dialog-update",a),e(document).on("change","select[name=room_sd]",function(){e("input[type=radio][name=room][value=room]").prop("checked",!0)}),e(document).on("focus","input[name=freeRoomText_sd]",function(){e("input[type=radio][name=room][value=freetext]").prop("checked",!0)}),e(document).on("click",".bookable_rooms_action",function(a){var o=e(this).prev("select")[0],i=e(this);if(null!==o&&void 0!==o)if("enabled"===i.data("state"))t.Raumzeit.disableBookableRooms(i);else{if(void 0===i.data("options")?i.data("options",e(o).children("option").clone(!0)):e(o).empty().append(i.data("options").clone(!0)),e(this).parents("form").attr("action").split("saveDate/").length>1)var r=e(this).parents("form").attr("action").split("saveDate/")[1].split("?")[0];else r=void 0;if(e("input[name='checked_dates']").length>0)var l=e("input[name='checked_dates']").val().split(",");else{l=[r];var u=e("input[name='date']").val(),c=e("input[name='start_time']").val().split(":"),d=e("input[name='end_time']").val().split(":"),s=[{name:"startDate",value:u},{name:"start_stunde",value:c[0]},{name:"start_minute",value:c[1]},{name:"end_stunde",value:d[0]},{name:"end_minute",value:d[1]}]}e.ajax({type:"POST",url:t.ABSOLUTE_URI_STUDIP+"dispatch.php/resources/helpers/bookable_rooms",data:{rooms:n.map(o.options,"value"),selected_dates:l,singleDateID:r,new_date:s},success:function(t){if(e.isArray(t)){if(t.length){var a=n.map(t,function(t){return e(o).children("option[value="+t+"]").text().trim()});o.title="Nicht buchbare Räume:".toLocaleString()+" "+a.join(", ")}else o.title="";n.each(t,function(t){e(o).children("option[value="+t+"]").prop("disabled",!0)})}else o.title="";i.attr("title","Alle Räume anzeigen".toLocaleString()),i.data("state","enabled")}})}a.preventDefault()}),e(document).on("change",'input[name="singledate[]"]',function(){t.Raumzeit.disableBookableRooms(e(".bookable_rooms_action"))}),e(document).on("ready",function(){e(".bookable_rooms_action").show()}),t.Dialog.handlers.header["X-Raumzeit-Update-Times"]=function(t){var n=e.parseJSON(t);e(".course-admin #course-"+n.course_id+" .raumzeit").html(n.html)},e(document).on("change",".datesBulkActions",function(){var t=e(this).next("button");"delete"===e(this).val()?t.attr("data-confirm","Wollen Sie die gewünschten Termine wirklich löschen?".toLocaleString()):t.attr("data-confirm")&&t.removeAttr("data-confirm")}),e(document).on("change","#edit-cycle",function(){var t=e("input[name=start_time]",this)[0],n=e("input[name=end_time]",this)[0];t.defaultValue&&n.defaultValue&&(t.value!==t.defaultValue||n.value!==n.defaultValue)&&(t.value<t.defaultValue||n.value>n.defaultValue)?e(this).attr("data-confirm","Wenn Sie die regelmäßige Zeit ändern, verlieren Sie die Raumbuchungen für alle in der Zukunft liegenden Termine! "+"Sind Sie sicher, dass Sie die regelmäßige Zeit ändern möchten?".toLocaleString()):e(this).attr("data-confirm",null)})}(jQuery,STUDIP,_),STUDIP.Raumzeit={disableBookableRooms:function(e){var t=$(e).prev("select")[0],n=$(e);t.title="",$(t).children("option").each(function(){$(this).prop("disabled",!1)}),n.attr("data-state",!1),n.attr("title","Nur buchbare Räume anzeigen".toLocaleString())}}}});
//# sourceMappingURL=studip-raumzeit.js.map