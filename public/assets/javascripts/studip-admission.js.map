{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/assets/javascripts/entry-admission.js","webpack:///./resources/assets/javascripts/jquery/jstree/jquery.jstree.js","webpack:///./resources/assets/javascripts/bootstrap/admission.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","jQuery","jstree","$","scrollbar_width","e1","e2","themes_loaded","bound","sh","ml","sli","sti","dir1","dir2","last_pos","nodeInterface","is_ie6","is_ie7","is_ff2","vakata","css","get_css","rule_name","delete_flag","sheet","toLowerCase","css_rules","cssRules","rules","j","length","selectorText","removeRule","deleteRule","add_css","insertRule","addRule","remove_css","add_sheet","opts","tmp","is_new","str","title","document","createElement","setAttribute","styleSheet","getElementsByTagName","appendChild","cssText","createTextNode","url","createStyleSheet","rel","type","media","href","e","instances","focused_instance","plugins","prepared_move","fn","settings","isMethodCall","args","Array","slice","arguments","returnValue","this","substring","each","instance","data","methodValue","isFunction","apply","indexOf","instance_id","a","b","extend","concat","push","destroy","parseInt","isArray","defaults","unshift","sort","join","replace","split","val","inArray","_instance","addClass","_get_settings","__init","setTimeout","init","_focused","_reference","needle","closest","index","container","core","get_settings","get_index","get_container","get_container_ul","children","_set_settings","_fn","plugin","pname","pdata","noop","__destroy","old","rslt","func","evnt","Event","rlbk","locked","triggerHandler","inst","__callback","__rollback","get_rollback","__call_old","replace_arguments","rollback","rb","set_rollback","h","u","navigator","userAgent","v","match","css_string","test","execCommand","err","parseFloat","to_open","initially_open","to_load","initially_load","html_titles","animation","open_parents","notify_plugins","rtl","load_open","strings","loading","new_node","multiple_selection","set_focus","html","_get_string","li_height","find","eq","height","delegate","proxy","event","trgt","target","toggle_node","sel","selection","empty","window","getSelection","removeAllRanges","collapse","_get_node","obj","th","values","load_node","loaded","reload_nodes","_this","is_focused","unbind","undelegate","removeData","addBack","attr","className","_core_notify","opened","open_node","lock","unlock","removeClass","is_locked","save_opened","id","toString","save_loaded","is_callback","done","current","remaining","reopen","refreshing","map","makeArray","_is_loaded","clearTimeout","refresh","remove","f","unset_focus","$obj","is","_get_next","strict","nextAll","size","hasClass","parentsUntil","next","_get_prev","prevAll","prev","_get_parent","_get_children","get_path","id_mode","get_text","reverse","is_open","is_closed","is_leaf","correct_state","callback","skip_animation","stop","slideDown","style","display","after_open","close_node","slideUp","after_close","open_all","do_animation","original_obj","__this","close_all","clean_node","filter","end","not","clone","append","s_call","e_call","create_node","position","js","is_loaded","metadata","state","language","prepend","icon","before","after","parent","contents","nodeType","nodeValue","set_text","rename_node","delete_node","add","detach","prepare_move","pos","cb","is_cb","ot","rt","cp","cr","np","op","cop","or","check_move","ret","cy","move_node","ref","is_copy","is_prepared","skip_check","appendTo","oc","_get_move","top","left","width","overflow","prependTo","ui","selected","last_selected","hovered","to_select","initially_select","preventDefault","currentTarget","blur","select_node","hover_node","dehover_node","reselect","save_selected","clk","selected_parent_close","deselect_node","select_prev_on_delete","parentNode","select_limit","select_multiple_modifier","select_range_modifier","selected_parent_open","disable_selecting_children","allow_multiple","_ui_notify","_fix_scroll","check","is_multiple","is_range","is_selected","proceed","deselect_all","parents","scrollHeight","offsetHeight","offset","scrollTop","scrollWidth","offsetWidth","toggle_select","get_selected","context","crrm","move","open_onmove","input_width_limit","always_copy","default_position","_show_input","w","w1","w2","h1","visibility","h2","class","padding","border","right","lineHeight","keyup","keyCode","which","Math","min","text","keypress","fontFamily","fontSize","fontWeight","fontStyle","fontStretch","fontVariant","letterSpacing","wordSpacing","select","rename","new_name","old_name","skip_rename","cut","cp_nodes","ct_nodes","copy","paste","nodes","_themes","themes","dots","icons","set_theme","theme","show_dots","hide_dots","show_icons","hide_icons","theme_name","theme_url","get_theme","toggle_dots","toggle_icons","src","hotkeys","enabled","exec","revert","enable_hotkeys","up","ctrl+up","shift+up","down","ctrl+down","shift+down","ctrl+left","shift+left","ctrl+right","shift+right","space","click","ctrl+space","trigger","shift+space","f2","del","disable_hotkeys","json_data","progressive_unload","ajax","progressive_render","load_node_json","error_func","success_func","_parse_json","x","ef","error","sf","success","isPlainObject","dataType","ul1","ul2","get_json","li_attr","a_attr","tmp1","tmp2","li","lang","result","types","type_attr","backgroundImage","languages","lv","k","z","_load_css","set_lang","langs","st","selector","current_language","get_lang","ln","cookie","cookies","one","auto_save","save_cookie","handleObj","namespace","cookie_options","dnd","is_down","is_drag","helper","scroll_spd","init_x","init_y","threshold","helper_left","helper_top","user_data","drag_start","drag_stop","unselectable","onselectstart","MozUserSelect","pageX","pageY","drag","abs","scrollLeft","clearInterval","setInterval","active","inside","off","prepared","to1","to2","cof","cw","ch","i1","i2","mto","dc","tr","foreign","drag_check","is_root","drag_finish","copy_modifier","relatedTarget","cnt","hide","start_drag","dnd_enter","dnd_show","dnd_leave","dnd_finish","et","drag_target","drop_target","drop_check","drop_finish","check_timeout","open_timeout","dnd_prepare","show","dnd_open","dt","stopImmediatePropagation","checkbox","noui","override_ui","get_checked","_prepare_checkboxes","uncheck_node","check_node","two_state","real_checkboxes","checked_parent_open","real_checkboxes_names","ceil","random","_checkbox_notify","checked","ts","rc","rcn","nm","$t","prop","_repair_state","change_state","coll","$this","check_all","uncheck_all","is_checked","get_all","get_unchecked","show_checkboxes","hide_checkboxes","xslt","xml","xsl","q","ActiveXObject","loadXML","stylesheet","createProcessor","input","transform","output","parseXML","XSLTProcessor","importStylesheet","transformToFragment","transformNode","nest","flat","escape_xml","string","get_skip_empty","get_include_preamble","load_node_xml","xml_data","parse_xml","responseText","get_xml","tp","jquery","expr","jstree_contains","createPseudo","search","textContent","innerText","jstree_title_contains","getAttribute","show_only_matches","search_method","skip_async","trim","supress_callback","_search_open","search_string","clear_search","hide_on_mouseleave","vis","tgt","par","y","parse","ul","toggleClass","was_sep","action","separator_before","_class","_disabled","submenu","label","separator_after","contains","last","first","show_contextmenu","contextmenu","show_at_node","items","ccp","attach_to","icons_css","image","use_data","tagName","_get_type","_check","max_children","max_depth","valid_children","default","_types_notify","set_type","rule","mc","md","vc","html_data","original_container_html","load_node_html","firstChild","themeroller","item_h","_themeroller","closed","item_clsd","item_open","item_leaf","item_a","item","nms","res","_check_unique","stopPropagation","error_callback","cnms","ok","unique","wholerow","to","_prepare_wholerow_span","_prepare_wholerow_ul","last_html","wrapAll","removeAttribute","model","inter","valid","validateInterface","async","getChildren","model_done","id_prefix","nd","getProps","getAttr","getChildrenCount","getName","getType","jstree_model","ready","on","STUDIP","Admission","toggleNotSavedAlert"],"mappings":"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","file":"javascripts/studip-admission.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 181);\n","import \"./jquery/jstree/jquery.jstree.js\"\nimport \"./bootstrap/admission.js\"\n","/*\n * jsTree 1.0-rc3\n * http://jstree.com/\n *\n * Copyright (c) 2010 Ivan Bozhanov (vakata.com)\n *\n * Licensed same as jquery - under the terms of either the MIT License or the GPL Version 2 License\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * $Date: 2011-02-09 01:17:14 +0200 (, 09  2011) $\n * $Revision: 236 $\n */\n\n/*jslint browser: true, onevar: true, undef: true, bitwise: true, strict: true */\n/*global window : false, clearInterval: false, clearTimeout: false, document: false, setInterval: false, setTimeout: false, jQuery: false, navigator: false, XSLTProcessor: false, DOMParser: false, XMLSerializer: false, ActiveXObject: false */\n\n\"use strict\";\n\n// top wrapper to prevent multiple inclusion (is this OK?)\n(function () { if(jQuery && jQuery.jstree) { return; }\n\tvar is_ie6 = false, is_ie7 = false, is_ff2 = false;\n\n/* \n * jsTree core\n */\n(function ($) {\n\t// Common functions not related to jsTree \n\t// decided to move them to a `vakata` \"namespace\"\n\t$.vakata = {};\n\t// CSS related functions\n\t$.vakata.css = {\n\t\tget_css : function(rule_name, delete_flag, sheet) {\n\t\t\trule_name = rule_name.toLowerCase();\n\t\t\tvar css_rules = sheet.cssRules || sheet.rules,\n\t\t\t\tj = 0;\n\t\t\tdo {\n\t\t\t\tif(css_rules.length && j > css_rules.length + 5) { return false; }\n\t\t\t\tif(css_rules[j].selectorText && css_rules[j].selectorText.toLowerCase() == rule_name) {\n\t\t\t\t\tif(delete_flag === true) {\n\t\t\t\t\t\tif(sheet.removeRule) { sheet.removeRule(j); }\n\t\t\t\t\t\tif(sheet.deleteRule) { sheet.deleteRule(j); }\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\telse { return css_rules[j]; }\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (css_rules[++j]);\n\t\t\treturn false;\n\t\t},\n\t\tadd_css : function(rule_name, sheet) {\n\t\t\tif($.jstree.css.get_css(rule_name, false, sheet)) { return false; }\n\t\t\tif(sheet.insertRule) { sheet.insertRule(rule_name + ' { }', 0); } else { sheet.addRule(rule_name, null, 0); }\n\t\t\treturn $.vakata.css.get_css(rule_name);\n\t\t},\n\t\tremove_css : function(rule_name, sheet) { \n\t\t\treturn $.vakata.css.get_css(rule_name, true, sheet); \n\t\t},\n\t\tadd_sheet : function(opts) {\n\t\t\tvar tmp = false, is_new = true;\n\t\t\tif(opts.str) {\n\t\t\t\tif(opts.title) { tmp = $(\"style[id='\" + opts.title + \"-stylesheet']\")[0]; }\n\t\t\t\tif(tmp) { is_new = false; }\n\t\t\t\telse {\n\t\t\t\t\ttmp = document.createElement(\"style\");\n\t\t\t\t\ttmp.setAttribute('type',\"text/css\");\n\t\t\t\t\tif(opts.title) { tmp.setAttribute(\"id\", opts.title + \"-stylesheet\"); }\n\t\t\t\t}\n\t\t\t\tif(tmp.styleSheet) {\n\t\t\t\t\tif(is_new) { \n\t\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp); \n\t\t\t\t\t\ttmp.styleSheet.cssText = opts.str; \n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttmp.styleSheet.cssText = tmp.styleSheet.cssText + \" \" + opts.str; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttmp.appendChild(document.createTextNode(opts.str));\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\n\t\t\t\t}\n\t\t\t\treturn tmp.sheet || tmp.styleSheet;\n\t\t\t}\n\t\t\tif(opts.url) {\n\t\t\t\tif(document.createStyleSheet) {\n\t\t\t\t\ttry { tmp = document.createStyleSheet(opts.url); } catch (e) { }\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttmp\t\t\t= document.createElement('link');\n\t\t\t\t\ttmp.rel\t\t= 'stylesheet';\n\t\t\t\t\ttmp.type\t= 'text/css';\n\t\t\t\t\ttmp.media\t= \"all\";\n\t\t\t\t\ttmp.href\t= opts.url;\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\n\t\t\t\t\treturn tmp.styleSheet;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// private variables \n\tvar instances = [],\t\t\t// instance array (used by $.jstree.reference/create/focused)\n\t\tfocused_instance = -1,\t// the index in the instance array of the currently focused instance\n\t\tplugins = {},\t\t\t// list of included plugins\n\t\tprepared_move = {};\t\t// for the move_node function\n\n\t// jQuery plugin wrapper (thanks to jquery UI widget function)\n\t$.fn.jstree = function (settings) {\n\t\tvar isMethodCall = (typeof settings == 'string'), // is this a method call like $().jstree(\"open_node\")\n\t\t\targs = Array.prototype.slice.call(arguments, 1), \n\t\t\treturnValue = this;\n\n\t\t// if a method call execute the method on all selected instances\n\t\tif(isMethodCall) {\n\t\t\tif(settings.substring(0, 1) == '_') { return returnValue; }\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = instances[$.data(this, \"jstree_instance_id\")],\n\t\t\t\t\tmethodValue = (instance && $.isFunction(instance[settings])) ? instance[settings].apply(instance, args) : instance;\n\t\t\t\t\tif(typeof methodValue !== \"undefined\" && (settings.indexOf(\"is_\") === 0 || (methodValue !== true && methodValue !== false))) { returnValue = methodValue; return false; }\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.each(function() {\n\t\t\t\t// extend settings and allow for multiple hashes and $.data\n\t\t\t\tvar instance_id = $.data(this, \"jstree_instance_id\"),\n\t\t\t\t\ta = [],\n\t\t\t\t\tb = settings ? $.extend({}, true, settings) : {},\n\t\t\t\t\tc = $(this), \n\t\t\t\t\ts = false, \n\t\t\t\t\tt = [];\n\t\t\t\ta = a.concat(args);\n\t\t\t\tif(c.data(\"jstree\")) { a.push(c.data(\"jstree\")); }\n\t\t\t\tb = a.length ? $.extend.apply(null, [true, b].concat(a)) : b;\n\n\t\t\t\t// if an instance already exists, destroy it first\n\t\t\t\tif(typeof instance_id !== \"undefined\" && instances[instance_id]) { instances[instance_id].destroy(); }\n\t\t\t\t// push a new empty object to the instances array\n\t\t\t\tinstance_id = parseInt(instances.push({}),10) - 1;\n\t\t\t\t// store the jstree instance id to the container element\n\t\t\t\t$.data(this, \"jstree_instance_id\", instance_id);\n\t\t\t\t// clean up all plugins\n\t\t\t\tb.plugins = $.isArray(b.plugins) ? b.plugins : $.jstree.defaults.plugins.slice();\n\t\t\t\tb.plugins.unshift(\"core\");\n\t\t\t\t// only unique plugins\n\t\t\t\tb.plugins = b.plugins.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");\n\n\t\t\t\t// extend defaults with passed data\n\t\t\t\ts = $.extend(true, {}, $.jstree.defaults, b);\n\t\t\t\ts.plugins = b.plugins;\n\t\t\t\t$.each(plugins, function (i, val) { \n\t\t\t\t\tif($.inArray(i, s.plugins) === -1) { s[i] = null; delete s[i]; } \n\t\t\t\t\telse { t.push(i); }\n\t\t\t\t});\n\t\t\t\ts.plugins = t;\n\n\t\t\t\t// push the new object to the instances array (at the same time set the default classes to the container) and init\n\t\t\t\tinstances[instance_id] = new $.jstree._instance(instance_id, $(this).addClass(\"jstree jstree-\" + instance_id), s); \n\t\t\t\t// init all activated plugins for this instance\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { instances[instance_id].data[val] = {}; });\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { if(plugins[val]) { plugins[val].__init.apply(instances[instance_id]); } });\n\t\t\t\t// initialize the instance\n\t\t\t\tsetTimeout(function() { if(instances[instance_id]) { instances[instance_id].init(); } }, 0);\n\t\t\t});\n\t\t}\n\t\t// return the jquery selection (or if it was a method call that returned a value - the returned value)\n\t\treturn returnValue;\n\t};\n\t// object to store exposed functions and objects\n\t$.jstree = {\n\t\tdefaults : {\n\t\t\tplugins : []\n\t\t},\n\t\t_focused : function () { return instances[focused_instance] || null; },\n\t\t_reference : function (needle) { \n\t\t\t// get by instance id\n\t\t\tif(instances[needle]) { return instances[needle]; }\n\t\t\t// get by DOM (if still no luck - return null\n\t\t\tvar o = $(needle); \n\t\t\tif(!o.length && typeof needle === \"string\") { o = $(\"#\" + needle); }\n\t\t\tif(!o.length) { return null; }\n\t\t\treturn instances[o.closest(\".jstree\").data(\"jstree_instance_id\")] || null; \n\t\t},\n\t\t_instance : function (index, container, settings) { \n\t\t\t// for plugins to store data in\n\t\t\tthis.data = { core : {} };\n\t\t\tthis.get_settings\t= function () { return $.extend(true, {}, settings); };\n\t\t\tthis._get_settings\t= function () { return settings; };\n\t\t\tthis.get_index\t\t= function () { return index; };\n\t\t\tthis.get_container\t= function () { return container; };\n\t\t\tthis.get_container_ul = function () { return container.children(\"ul:eq(0)\"); };\n\t\t\tthis._set_settings\t= function (s) { \n\t\t\t\tsettings = $.extend(true, {}, settings, s);\n\t\t\t};\n\t\t},\n\t\t_fn : { },\n\t\tplugin : function (pname, pdata) {\n\t\t\tpdata = $.extend({}, {\n\t\t\t\t__init\t\t: $.noop, \n\t\t\t\t__destroy\t: $.noop,\n\t\t\t\t_fn\t\t\t: {},\n\t\t\t\tdefaults\t: false\n\t\t\t}, pdata);\n\t\t\tplugins[pname] = pdata;\n\n\t\t\t$.jstree.defaults[pname] = pdata.defaults;\n\t\t\t$.each(pdata._fn, function (i, val) {\n\t\t\t\tval.plugin\t\t= pname;\n\t\t\t\tval.old\t\t\t= $.jstree._fn[i];\n\t\t\t\t$.jstree._fn[i] = function () {\n\t\t\t\t\tvar rslt,\n\t\t\t\t\t\tfunc = val,\n\t\t\t\t\t\targs = Array.prototype.slice.call(arguments),\n\t\t\t\t\t\tevnt = new $.Event(\"before.jstree\"),\n\t\t\t\t\t\trlbk = false;\n\n\t\t\t\t\tif(this.data.core.locked === true && i !== \"unlock\" && i !== \"is_locked\") { return; }\n\n\t\t\t\t\t// Check if function belongs to the included plugins of this instance\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif(func && func.plugin && $.inArray(func.plugin, this._get_settings().plugins) !== -1) { break; }\n\t\t\t\t\t\tfunc = func.old;\n\t\t\t\t\t} while(func);\n\t\t\t\t\tif(!func) { return; }\n\n\t\t\t\t\t// context and function to trigger events, then finally call the function\n\t\t\t\t\tif(i.indexOf(\"_\") === 0) {\n\t\t\t\t\t\trslt = func.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\trslt = this.get_container().triggerHandler(evnt, { \"func\" : i, \"inst\" : this, \"args\" : args, \"plugin\" : func.plugin });\n\t\t\t\t\t\tif(rslt === false) { return; }\n\t\t\t\t\t\tif(typeof rslt !== \"undefined\") { args = rslt; }\n\n\t\t\t\t\t\trslt = func.apply(\n\t\t\t\t\t\t\t$.extend({}, this, { \n\t\t\t\t\t\t\t\t__callback : function (data) { \n\t\t\t\t\t\t\t\t\tthis.get_container().triggerHandler( i + '.jstree', { \"inst\" : this, \"args\" : args, \"rslt\" : data, \"rlbk\" : rlbk });\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t__rollback : function () { \n\t\t\t\t\t\t\t\t\trlbk = this.get_rollback();\n\t\t\t\t\t\t\t\t\treturn rlbk;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t__call_old : function (replace_arguments) {\n\t\t\t\t\t\t\t\t\treturn func.old.apply(this, (replace_arguments ? Array.prototype.slice.call(arguments, 1) : args ) );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}), args);\n\t\t\t\t\t}\n\n\t\t\t\t\t// return the result\n\t\t\t\t\treturn rslt;\n\t\t\t\t};\n\t\t\t\t$.jstree._fn[i].old = val.old;\n\t\t\t\t$.jstree._fn[i].plugin = pname;\n\t\t\t});\n\t\t},\n\t\trollback : function (rb) {\n\t\t\tif(rb) {\n\t\t\t\tif(!$.isArray(rb)) { rb = [ rb ]; }\n\t\t\t\t$.each(rb, function (i, val) {\n\t\t\t\t\tinstances[val.i].set_rollback(val.h, val.d);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\t// set the prototype for all instances\n\t$.jstree._fn = $.jstree._instance.prototype = {};\n\n\t// load the css when DOM is ready\n\t$(function() {\n\t\t// code is copied from jQuery ($.browser is deprecated + there is a bug in IE)\n\t\tvar u = navigator.userAgent.toLowerCase(),\n\t\t\tv = (u.match( /.+?(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [0,'0'])[1],\n\t\t\tcss_string = '' + \n\t\t\t\t'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } ' + \n\t\t\t\t'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } ' + \n\t\t\t\t'.jstree-rtl li { margin-left:0; margin-right:18px; } ' + \n\t\t\t\t'.jstree > ul > li { margin-left:0px; } ' + \n\t\t\t\t'.jstree-rtl > ul > li { margin-right:0px; } ' + \n\t\t\t\t'.jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } ' + \n\t\t\t\t'.jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } ' + \n\t\t\t\t'.jstree a:focus { outline: none; } ' + \n\t\t\t\t'.jstree a > ins { height:16px; width:16px; } ' + \n\t\t\t\t'.jstree a > .jstree-icon { margin-right:3px; } ' + \n\t\t\t\t'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } ' + \n\t\t\t\t'li.jstree-open > ul { display:block; } ' + \n\t\t\t\t'li.jstree-closed > ul { display:none; } ';\n\t\t// Correct IE 6 (does not support the > CSS selector)\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 6) { \n\t\t\tis_ie6 = true;\n\n\t\t\t// fix image flicker and lack of caching\n\t\t\ttry {\n\t\t\t\tdocument.execCommand(\"BackgroundImageCache\", false, true);\n\t\t\t} catch (err) { }\n\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree li { height:18px; margin-left:0; margin-right:0; } ' + \n\t\t\t\t'.jstree li li { margin-left:18px; } ' + \n\t\t\t\t'.jstree-rtl li li { margin-left:0px; margin-right:18px; } ' + \n\t\t\t\t'li.jstree-open ul { display:block; } ' + \n\t\t\t\t'li.jstree-closed ul { display:none !important; } ' + \n\t\t\t\t'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } ' + \n\t\t\t\t'.jstree li a ins { height:16px; width:16px; margin-right:3px; } ' + \n\t\t\t\t'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';\n\t\t}\n\t\t// Correct IE 7 (shifts anchor nodes onhover)\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 7) { \n\t\t\tis_ie7 = true;\n\t\t\tcss_string += '.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';\n\t\t}\n\t\t// correct ff2 lack of display:inline-block\n\t\tif(!/compatible/.test(u) && /mozilla/.test(u) && parseFloat(v, 10) < 1.9) {\n\t\t\tis_ff2 = true;\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree ins { display:-moz-inline-box; } ' + \n\t\t\t\t'.jstree li { line-height:12px; } ' + // WHY??\n\t\t\t\t'.jstree a { display:-moz-inline-box; } ' + \n\t\t\t\t'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';\n\t\t\t\t/* this shouldn't be here as it is theme specific */\n\t\t}\n\t\t// the default stylesheet\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n\n\t// core functions (open, close, create, update, delete)\n\t$.jstree.plugin(\"core\", {\n\t\t__init : function () {\n\t\t\tthis.data.core.locked = false;\n\t\t\tthis.data.core.to_open = this.get_settings().core.initially_open;\n\t\t\tthis.data.core.to_load = this.get_settings().core.initially_load;\n\t\t},\n\t\tdefaults : { \n\t\t\thtml_titles\t: false,\n\t\t\tanimation\t: 500,\n\t\t\tinitially_open : [],\n\t\t\tinitially_load : [],\n\t\t\topen_parents : true,\n\t\t\tnotify_plugins : true,\n\t\t\trtl\t\t\t: false,\n\t\t\tload_open\t: false,\n\t\t\tstrings\t\t: {\n\t\t\t\tloading\t\t: \"Loading ...\",\n\t\t\t\tnew_node\t: \"New node\",\n\t\t\t\tmultiple_selection : \"Multiple selection\"\n\t\t\t}\n\t\t},\n\t\t_fn : { \n\t\t\tinit\t: function () { \n\t\t\t\tthis.set_focus(); \n\t\t\t\tif(this._get_settings().core.rtl) {\n\t\t\t\t\tthis.get_container().addClass(\"jstree-rtl\").css(\"direction\", \"rtl\");\n\t\t\t\t}\n\t\t\t\tthis.get_container().html(\"<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>\" + this._get_string(\"loading\") + \"</a></li></ul>\");\n\t\t\t\tthis.data.core.li_height = this.get_container_ul().find(\"li.jstree-closed, li.jstree-leaf\").eq(0).height() || 18;\n\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.delegate(\"li > ins\", \"click.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\t\tvar trgt = $(event.target);\n\t\t\t\t\t\t\t// if(trgt.is(\"ins\") && event.pageY - trgt.offset().top < this.data.core.li_height) { this.toggle_node(trgt); }\n\t\t\t\t\t\t\tthis.toggle_node(trgt);\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.bind(\"mousedown.jstree\", $.proxy(function () { \n\t\t\t\t\t\t\tthis.set_focus(); // This used to be setTimeout(set_focus,0) - why?\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.bind(\"dblclick.jstree\", function (event) { \n\t\t\t\t\t\tvar sel;\n\t\t\t\t\t\tif(document.selection && document.selection.empty) { document.selection.empty(); }\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(window.getSelection) {\n\t\t\t\t\t\t\t\tsel = window.getSelection();\n\t\t\t\t\t\t\t\ttry { \n\t\t\t\t\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\t\t\t\t\tsel.collapse();\n\t\t\t\t\t\t\t\t} catch (err) { }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif(this._get_settings().core.notify_plugins) {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\t\t\tt = this;\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\n\t\t\t\t\t\t\t\to.find(\"li\").each(function () {\n\t\t\t\t\t\t\t\t\tvar th = $(this);\n\t\t\t\t\t\t\t\t\tif(th.data(\"jstree\")) {\n\t\t\t\t\t\t\t\t\t\t$.each(th.data(\"jstree\"), function (plugin, values) {\n\t\t\t\t\t\t\t\t\t\t\tif(t.data[plugin] && $.isFunction(t[\"_\" + plugin + \"_notify\"])) {\n\t\t\t\t\t\t\t\t\t\t\t\tt[\"_\" + plugin + \"_notify\"].call(t, th, values);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\tif(this._get_settings().core.load_open) {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\t\t\tt = this;\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\n\t\t\t\t\t\t\t\to.find(\"li.jstree-open:not(:has(ul))\").each(function () {\n\t\t\t\t\t\t\t\t\tt.load_node(this, $.noop, $.noop);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\tthis.__callback();\n\t\t\t\tthis.load_node(-1, function () { this.loaded(); this.reload_nodes(); });\n\t\t\t},\n\t\t\tdestroy\t: function () { \n\t\t\t\tvar i,\n\t\t\t\t\tn = this.get_index(),\n\t\t\t\t\ts = this._get_settings(),\n\t\t\t\t\t_this = this;\n\n\t\t\t\t$.each(s.plugins, function (i, val) {\n\t\t\t\t\ttry { plugins[val].__destroy.apply(_this); } catch(err) { }\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t\t// set focus to another instance if this one is focused\n\t\t\t\tif(this.is_focused()) { \n\t\t\t\t\tfor(i in instances) { \n\t\t\t\t\t\tif(instances.hasOwnProperty(i) && i != n) { \n\t\t\t\t\t\t\tinstances[i].set_focus(); \n\t\t\t\t\t\t\tbreak; \n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if no other instance found\n\t\t\t\tif(n === focused_instance) { focused_instance = -1; }\n\t\t\t\t// remove all traces of jstree in the DOM (only the ones set using jstree*) and cleans all events\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.unbind(\".jstree\")\n\t\t\t\t\t.undelegate(\".jstree\")\n\t\t\t\t\t.removeData(\"jstree_instance_id\")\n\t\t\t\t\t.find(\"[class^='jstree']\")\n\t\t\t\t\t\t.addBack()\n\t\t\t\t\t\t.attr(\"class\", function () { return this.className.replace(/jstree[^ ]*|$/ig,''); });\n\t\t\t\t$(document)\n\t\t\t\t\t.unbind(\".jstree-\" + n)\n\t\t\t\t\t.undelegate(\".jstree-\" + n);\n\t\t\t\t// remove the actual data\n\t\t\t\tinstances[n] = null;\n\t\t\t\tdelete instances[n];\n\t\t\t},\n\n\t\t\t_core_notify : function (n, data) {\n\t\t\t\tif(data.opened) {\n\t\t\t\t\tthis.open_node(n, false, true);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlock : function () {\n\t\t\t\tthis.data.core.locked = true;\n\t\t\t\tthis.get_container().children(\"ul\").addClass(\"jstree-locked\").css(\"opacity\",\"0.7\");\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\tunlock : function () {\n\t\t\t\tthis.data.core.locked = false;\n\t\t\t\tthis.get_container().children(\"ul\").removeClass(\"jstree-locked\").css(\"opacity\",\"1\");\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\tis_locked : function () { return this.data.core.locked; },\n\t\t\tsave_opened : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.core.to_open = [];\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-open\").each(function () { \n\t\t\t\t\tif(this.id) { _this.data.core.to_open.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); }\n\t\t\t\t});\n\t\t\t\tthis.__callback(_this.data.core.to_open);\n\t\t\t},\n\t\t\tsave_loaded : function () { },\n\t\t\treload_nodes : function (is_callback) {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tdone = true,\n\t\t\t\t\tcurrent = [],\n\t\t\t\t\tremaining = [];\n\t\t\t\tif(!is_callback) { \n\t\t\t\t\tthis.data.core.reopen = false; \n\t\t\t\t\tthis.data.core.refreshing = true; \n\t\t\t\t\tthis.data.core.to_open = $.map($.makeArray(this.data.core.to_open), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tthis.data.core.to_load = $.map($.makeArray(this.data.core.to_load), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t\tthis.data.core.to_load = this.data.core.to_load.concat(this.data.core.to_open);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.data.core.to_load.length) {\n\t\t\t\t\t$.each(this.data.core.to_load, function (i, val) {\n\t\t\t\t\t\tif(val == \"#\") { return true; }\n\t\t\t\t\t\tif($(val).length) { current.push(val); }\n\t\t\t\t\t\telse { remaining.push(val); }\n\t\t\t\t\t});\n\t\t\t\t\tif(current.length) {\n\t\t\t\t\t\tthis.data.core.to_load = remaining;\n\t\t\t\t\t\t$.each(current, function (i, val) { \n\t\t\t\t\t\t\tif(!_this._is_loaded(val)) {\n\t\t\t\t\t\t\t\t_this.load_node(val, function () { _this.reload_nodes(true); }, function () { _this.reload_nodes(true); });\n\t\t\t\t\t\t\t\tdone = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\n\t\t\t\t\t\t_this.open_node(val, false, true); \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(done) { \n\t\t\t\t\t// TODO: find a more elegant approach to syncronizing returning requests\n\t\t\t\t\tif(this.data.core.reopen) { clearTimeout(this.data.core.reopen); }\n\t\t\t\t\tthis.data.core.reopen = setTimeout(function () { _this.__callback({}, _this); }, 50);\n\t\t\t\t\tthis.data.core.refreshing = false;\n\t\t\t\t\tthis.reopen();\n\t\t\t\t}\n\t\t\t},\n\t\t\treopen : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\n\t\t\t\t\t\t_this.open_node(val, false, true); \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.save_opened();\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tif(obj !== -1) { obj.children(\"UL\").remove(); }\n\t\t\t\telse { this.get_container_ul().empty(); }\n\t\t\t\tthis.load_node(obj, function () { _this.__callback({ \"obj\" : obj}); _this.reload_nodes(); });\n\t\t\t},\n\t\t\t// Dummy function to fire after the first load (so that there is a jstree.loaded event)\n\t\t\tloaded\t: function () { \n\t\t\t\tthis.__callback(); \n\t\t\t},\n\t\t\t// deal with focus\n\t\t\tset_focus\t: function () { \n\t\t\t\tif(this.is_focused()) { return; }\n\t\t\t\tvar f = $.jstree._focused();\n\t\t\t\tif(f) { f.unset_focus(); }\n\n\t\t\t\tthis.get_container().addClass(\"jstree-focused\"); \n\t\t\t\tfocused_instance = this.get_index(); \n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tis_focused\t: function () { \n\t\t\t\treturn focused_instance == this.get_index(); \n\t\t\t},\n\t\t\tunset_focus\t: function () {\n\t\t\t\tif(this.is_focused()) {\n\t\t\t\t\tthis.get_container().removeClass(\"jstree-focused\"); \n\t\t\t\t\tfocused_instance = -1; \n\t\t\t\t}\n\t\t\t\tthis.__callback();\n\t\t\t},\n\n\t\t\t// traverse\n\t\t\t_get_node\t\t: function (obj) { \n\t\t\t\tvar $obj = $(obj, this.get_container()); \n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \n\t\t\t\treturn $obj.length ? $obj : false; \n\t\t\t},\n\t\t\t_get_next\t\t: function (obj, strict) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:first-child\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(strict) { return (obj.nextAll(\"li\").size() > 0) ? obj.nextAll(\"li:eq(0)\") : false; }\n\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return obj.find(\"li:eq(0)\"); }\n\t\t\t\telse if(obj.nextAll(\"li\").size() > 0) { return obj.nextAll(\"li:eq(0)\"); }\n\t\t\t\telse { return obj.parentsUntil(\".jstree\",\"li\").next(\"li\").eq(0); }\n\t\t\t},\n\t\t\t_get_prev\t\t: function (obj, strict) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:last-child\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(strict) { return (obj.prevAll(\"li\").length > 0) ? obj.prevAll(\"li:eq(0)\") : false; }\n\n\t\t\t\tif(obj.prev(\"li\").length) {\n\t\t\t\t\tobj = obj.prev(\"li\").eq(0);\n\t\t\t\t\twhile(obj.hasClass(\"jstree-open\")) { obj = obj.children(\"ul:eq(0)\").children(\"li:last\"); }\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t\telse { var o = obj.parentsUntil(\".jstree\",\"li:eq(0)\"); return o.length ? o : false; }\n\t\t\t},\n\t\t\t_get_parent\t\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj == -1 || !obj.length) { return false; }\n\t\t\t\tvar o = obj.parentsUntil(\".jstree\", \"li:eq(0)\");\n\t\t\t\treturn o.length ? o : -1;\n\t\t\t},\n\t\t\t_get_children\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().children(\"ul:eq(0)\").children(\"li\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\treturn obj.children(\"ul:eq(0)\").children(\"li\");\n\t\t\t},\n\t\t\tget_path\t\t: function (obj, id_mode) {\n\t\t\t\tvar p = [],\n\t\t\t\t\t_this = this;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1 || !obj || !obj.length) { return false; }\n\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\n\t\t\t\t\tp.push( id_mode ? this.id : _this.get_text(this) );\n\t\t\t\t});\n\t\t\t\tp.reverse();\n\t\t\t\tp.push( id_mode ? obj.attr(\"id\") : this.get_text(obj) );\n\t\t\t\treturn p;\n\t\t\t},\n\n\t\t\t// string functions\n\t\t\t_get_string : function (key) {\n\t\t\t\treturn this._get_settings().core.strings[key] || key;\n\t\t\t},\n\n\t\t\tis_open\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-open\"); },\n\t\t\tis_closed\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-closed\"); },\n\t\t\tis_leaf\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-leaf\"); },\n\t\t\tcorrect_state\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { return false; }\n\t\t\t\tobj.removeClass(\"jstree-closed jstree-open\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\t// open/close\n\t\t\topen_node\t: function (obj, callback, skip_animation) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(!obj.hasClass(\"jstree-closed\")) { if(callback) { callback.call(); } return false; }\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\n\t\t\t\t\tt = this;\n\t\t\t\tif(!this._is_loaded(obj)) {\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-loading\");\n\t\t\t\t\tthis.load_node(obj, function () { t.open_node(obj, callback, skip_animation); }, callback);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(this._get_settings().core.open_parents) {\n\t\t\t\t\t\tobj.parentsUntil(\".jstree\",\".jstree-closed\").each(function () {\n\t\t\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif(s) { obj.children(\"ul\").css(\"display\",\"none\"); }\n\t\t\t\t\tobj.removeClass(\"jstree-closed\").addClass(\"jstree-open\").children(\"a\").removeClass(\"jstree-loading\");\n\t\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideDown(s, function () { this.style.display = \"\"; t.after_open(obj); }); }\n\t\t\t\t\telse { t.after_open(obj); }\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t\t\tif(callback) { callback.call(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\tafter_open\t: function (obj) { this.__callback({ \"obj\" : obj }); },\n\t\t\tclose_node\t: function (obj, skip_animation) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\n\t\t\t\t\tt = this;\n\t\t\t\tif(!obj.length || !obj.hasClass(\"jstree-open\")) { return false; }\n\t\t\t\tif(s) { obj.children(\"ul\").attr(\"style\",\"display:block !important\"); }\n\t\t\t\tobj.removeClass(\"jstree-open\").addClass(\"jstree-closed\");\n\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideUp(s, function () { this.style.display = \"\"; t.after_close(obj); }); }\n\t\t\t\telse { t.after_close(obj); }\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tafter_close\t: function (obj) { this.__callback({ \"obj\" : obj }); },\n\t\t\ttoggle_node\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj.hasClass(\"jstree-closed\")) { return this.open_node(obj); }\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return this.close_node(obj); }\n\t\t\t},\n\t\t\topen_all\t: function (obj, do_animation, original_obj) {\n\t\t\t\tobj = obj ? this._get_node(obj) : -1;\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\n\t\t\t\tif(original_obj) { \n\t\t\t\t\tobj = obj.find(\"li.jstree-closed\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toriginal_obj = obj;\n\t\t\t\t\tif(obj.is(\".jstree-closed\")) { obj = obj.find(\"li.jstree-closed\").addBack(); }\n\t\t\t\t\telse { obj = obj.find(\"li.jstree-closed\"); }\n\t\t\t\t}\n\t\t\t\tvar _this = this;\n\t\t\t\tobj.each(function () { \n\t\t\t\t\tvar __this = this; \n\t\t\t\t\tif(!_this._is_loaded(this)) { _this.open_node(this, function() { _this.open_all(__this, do_animation, original_obj); }, !do_animation); }\n\t\t\t\t\telse { _this.open_node(this, false, !do_animation); }\n\t\t\t\t});\n\t\t\t\t// so that callback is fired AFTER all nodes are open\n\t\t\t\tif(original_obj.find('li.jstree-closed').length === 0) { this.__callback({ \"obj\" : original_obj }); }\n\t\t\t},\n\t\t\tclose_all\t: function (obj, do_animation) {\n\t\t\t\tvar _this = this;\n\t\t\t\tobj = obj ? this._get_node(obj) : this.get_container();\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\n\t\t\t\tobj.find(\"li.jstree-open\").addBack().each(function () { _this.close_node(this, !do_animation); });\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tclean_node\t: function (obj) {\n\t\t\t\tobj = obj && obj != -1 ? $(obj) : this.get_container_ul();\n\t\t\t\tobj = obj.is(\"li\") ? obj.find(\"li\").addBack() : obj.find(\"li\");\n\t\t\t\tobj.removeClass(\"jstree-last\")\n\t\t\t\t\t.filter(\"li:last-child\").addClass(\"jstree-last\").end()\n\t\t\t\t\t.filter(\":has(li)\")\n\t\t\t\t\t\t.not(\".jstree-open\").removeClass(\"jstree-leaf\").addClass(\"jstree-closed\");\n\t\t\t\tobj.not(\".jstree-open, .jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\t// rollback\n\t\t\tget_rollback : function () { \n\t\t\t\tthis.__callback();\n\t\t\t\treturn { i : this.get_index(), h : this.get_container().children(\"ul\").clone(true), d : this.data }; \n\t\t\t},\n\t\t\tset_rollback : function (html, data) {\n\t\t\t\tthis.get_container().empty().append(html);\n\t\t\t\tthis.data = data;\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\t// Dummy functions to be overwritten by any datastore plugin included\n\t\t\tload_node\t: function (obj, s_call, e_call) { this.__callback({ \"obj\" : obj }); },\n\t\t\t_is_loaded\t: function (obj) { return true; },\n\n\t\t\t// Basic operations: create\n\t\t\tcreate_node\t: function (obj, position, js, callback, is_loaded) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tposition = typeof position === \"undefined\" ? \"last\" : position;\n\t\t\t\tvar d = $(\"<li />\"),\n\t\t\t\t\ts = this._get_settings().core,\n\t\t\t\t\ttmp;\n\n\t\t\t\tif(obj !== -1 && !obj.length) { return false; }\n\t\t\t\tif(!is_loaded && !this._is_loaded(obj)) { this.load_node(obj, function () { this.create_node(obj, position, js, callback, true); }); return false; }\n\n\t\t\t\tthis.__rollback();\n\n\t\t\t\tif(typeof js === \"string\") { js = { \"data\" : js }; }\n\t\t\t\tif(!js) { js = {}; }\n\t\t\t\tif(js.attr) { d.attr(js.attr); }\n\t\t\t\tif(js.metadata) { d.data(js.metadata); }\n\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\n\t\t\t\tif(!js.data) { js.data = this._get_string(\"new_node\"); }\n\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\n\t\t\t\t$.each(js.data, function (i, m) {\n\t\t\t\t\ttmp = $(\"<a />\");\n\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\n\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ s.html_titles ? \"html\" : \"text\" ](m); }\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\n\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\n\t\t\t\t\t\ttmp.attr(m.attr)[ s.html_titles ? \"html\" : \"text\" ](m.title);\n\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\n\t\t\t\t\t}\n\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\n\t\t\t\t\tif(m.icon) { \n\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\n\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\n\t\t\t\t\t}\n\t\t\t\t\td.append(tmp);\n\t\t\t\t});\n\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\tif(obj === -1) {\n\t\t\t\t\tobj = this.get_container();\n\t\t\t\t\tif(position === \"before\") { position = \"first\"; }\n\t\t\t\t\tif(position === \"after\") { position = \"last\"; }\n\t\t\t\t}\n\t\t\t\tswitch(position) {\n\t\t\t\t\tcase \"before\": obj.before(d); tmp = this._get_parent(obj); break;\n\t\t\t\t\tcase \"after\" : obj.after(d);  tmp = this._get_parent(obj); break;\n\t\t\t\t\tcase \"inside\":\n\t\t\t\t\tcase \"first\" :\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tobj.children(\"ul\").prepend(d);\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tobj.children(\"ul\").append(d);\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tif(!position) { position = 0; }\n\t\t\t\t\t\ttmp = obj.children(\"ul\").children(\"li\").eq(position);\n\t\t\t\t\t\tif(tmp.length) { tmp.before(d); }\n\t\t\t\t\t\telse { obj.children(\"ul\").append(d); }\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(tmp === -1 || tmp.get(0) === this.get_container().get(0)) { tmp = -1; }\n\t\t\t\tthis.clean_node(tmp);\n\t\t\t\tthis.__callback({ \"obj\" : d, \"parent\" : tmp });\n\t\t\t\tif(callback) { callback.call(this, d); }\n\t\t\t\treturn d;\n\t\t\t},\n\t\t\t// Basic operations: rename (deal with text)\n\t\t\tget_text\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tvar s = this._get_settings().core.html_titles;\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\n\t\t\t\tif(s) {\n\t\t\t\t\tobj = obj.clone();\n\t\t\t\t\tobj.children(\"INS\").remove();\n\t\t\t\t\treturn obj.html();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\treturn obj.nodeValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset_text\t: function (obj, val) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\n\t\t\t\tif(this._get_settings().core.html_titles) {\n\t\t\t\t\tvar tmp = obj.children(\"INS\").clone();\n\t\t\t\t\tobj.html(val).prepend(tmp);\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\n\t\t\t\t\treturn (obj.nodeValue = val);\n\t\t\t\t}\n\t\t\t},\n\t\t\trename_node : function (obj, val) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tif(obj && obj.length && this.set_text.apply(this, Array.prototype.slice.call(arguments))) { this.__callback({ \"obj\" : obj, \"name\" : val }); }\n\t\t\t},\n\t\t\t// Basic operations: deleting nodes\n\t\t\tdelete_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar p = this._get_parent(obj), prev = $([]), t = this;\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tprev = prev.add(t._get_prev(this));\n\t\t\t\t});\n\t\t\t\tobj = obj.detach();\n\t\t\t\tif(p !== -1 && p.find(\"> ul > li\").length === 0) {\n\t\t\t\t\tp.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\");\n\t\t\t\t}\n\t\t\t\tthis.clean_node(p);\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p });\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\tprepare_move : function (o, r, pos, cb, is_cb) {\n\t\t\t\tvar p = {};\n\n\t\t\t\tp.ot = $.jstree._reference(o) || this;\n\t\t\t\tp.o = p.ot._get_node(o);\n\t\t\t\tp.r = r === - 1 ? -1 : this._get_node(r);\n\t\t\t\tp.p = (typeof pos === \"undefined\" || pos === false) ? \"last\" : pos; // TODO: move to a setting\n\t\t\t\tif(!is_cb && prepared_move.o && prepared_move.o[0] === p.o[0] && prepared_move.r[0] === p.r[0] && prepared_move.p === p.p) {\n\t\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\t\tif(cb) { cb.call(this, prepared_move); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tp.ot = $.jstree._reference(p.o) || this;\n\t\t\t\tp.rt = $.jstree._reference(p.r) || this; // r === -1 ? p.ot : $.jstree._reference(p.r) || this\n\t\t\t\tif(p.r === -1 || !p.r) {\n\t\t\t\t\tp.cr = -1;\n\t\t\t\t\tswitch(p.p) {\n\t\t\t\t\t\tcase \"first\":\n\t\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\t\tp.cp = 0; \n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\t\tp.cp = p.rt.get_container().find(\" > ul > li\").length; \n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tp.cp = p.p;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(!/^(before|after)$/.test(p.p) && !this._is_loaded(p.r)) {\n\t\t\t\t\t\treturn this.load_node(p.r, function () { this.prepare_move(o, r, pos, cb, true); });\n\t\t\t\t\t}\n\t\t\t\t\tswitch(p.p) {\n\t\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\t\tp.cp = p.r.index();\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\t\tp.cp = p.r.index() + 1;\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\tcase \"first\":\n\t\t\t\t\t\t\tp.cp = 0;\n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\t\tp.cp = p.r.find(\" > ul > li\").length; \n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault: \n\t\t\t\t\t\t\tp.cp = p.p;\n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tp.np = p.cr == -1 ? p.rt.get_container() : p.cr;\n\t\t\t\tp.op = p.ot._get_parent(p.o);\n\t\t\t\tp.cop = p.o.index();\n\t\t\t\tif(p.op === -1) { p.op = p.ot ? p.ot.get_container() : this.get_container(); }\n\t\t\t\tif(!/^(before|after)$/.test(p.p) && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp++; }\n\t\t\t\t//if(p.p === \"before\" && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp--; }\n\t\t\t\tp.or = p.np.find(\" > ul > li:nth-child(\" + (p.cp + 1) + \")\");\n\t\t\t\tprepared_move = p;\n\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\tif(cb) { cb.call(this, prepared_move); }\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tvar obj = prepared_move, ret = true, r = obj.r === -1 ? this.get_container() : obj.r;\n\t\t\t\tif(!obj || !obj.o || obj.or[0] === obj.o[0]) { return false; }\n\t\t\t\tif(!obj.cy) {\n\t\t\t\t\tif(obj.op && obj.np && obj.op[0] === obj.np[0] && obj.cp - 1 === obj.o.index()) { return false; }\n\t\t\t\t\tobj.o.each(function () { \n\t\t\t\t\t\tif(r.parentsUntil(\".jstree\", \"li\").addBack().index(this) !== -1) { ret = false; return false; }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\n\t\t\t\tif(!is_prepared) { \n\t\t\t\t\treturn this.prepare_move(obj, ref, position, function (p) {\n\t\t\t\t\t\tthis.move_node(p, false, false, is_copy, true, skip_check);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(is_copy) { \n\t\t\t\t\tprepared_move.cy = true;\n\t\t\t\t}\n\t\t\t\tif(!skip_check && !this.check_move()) { return false; }\n\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar o = false;\n\t\t\t\tif(is_copy) {\n\t\t\t\t\to = obj.o.clone(true);\n\t\t\t\t\to.find(\"*[id]\").addBack().each(function () {\n\t\t\t\t\t\tif(this.id) { this.id = \"copy_\" + this.id; }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse { o = obj.o; }\n\n\t\t\t\tif(obj.or.length) { obj.or.before(o); }\n\t\t\t\telse { \n\t\t\t\t\tif(!obj.np.children(\"ul\").length) { $(\"<ul />\").appendTo(obj.np); }\n\t\t\t\t\tobj.np.children(\"ul:eq(0)\").append(o); \n\t\t\t\t}\n\n\t\t\t\ttry { \n\t\t\t\t\tobj.ot.clean_node(obj.op);\n\t\t\t\t\tobj.rt.clean_node(obj.np);\n\t\t\t\t\tif(!obj.op.find(\"> ul > li\").length) {\n\t\t\t\t\t\tobj.op.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { }\n\n\t\t\t\tif(is_copy) { \n\t\t\t\t\tprepared_move.cy = true;\n\t\t\t\t\tprepared_move.oc = o; \n\t\t\t\t}\n\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\treturn prepared_move;\n\t\t\t},\n\t\t\t_get_move : function () { return prepared_move; }\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree ui plugin\n * This plugins handles selecting/deselecting/hovering/dehovering nodes\n */\n(function ($) {\n\tvar scrollbar_width, e1, e2;\n\t$(function() {\n\t\tif (/msie/.test(navigator.userAgent.toLowerCase())) {\n\t\t\te1 = $('<textarea cols=\"10\" rows=\"2\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\n\t\t\te2 = $('<textarea cols=\"10\" rows=\"2\" style=\"overflow: hidden;\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\n\t\t\tscrollbar_width = e1.width() - e2.width();\n\t\t\te1.add(e2).remove();\n\t\t} \n\t\telse {\n\t\t\te1 = $('<div />').css({ width: 100, height: 100, overflow: 'auto', position: 'absolute', top: -1000, left: 0 })\n\t\t\t\t\t.prependTo('body').append('<div />').find('div').css({ width: '100%', height: 200 });\n\t\t\tscrollbar_width = 100 - e1.width();\n\t\t\te1.parent().remove();\n\t\t}\n\t});\n\t$.jstree.plugin(\"ui\", {\n\t\t__init : function () { \n\t\t\tthis.data.ui.selected = $(); \n\t\t\tthis.data.ui.last_selected = false; \n\t\t\tthis.data.ui.hovered = null;\n\t\t\tthis.data.ui.to_select = this.get_settings().ui.initially_select;\n\n\t\t\tthis.get_container()\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.currentTarget.blur();\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.select_node(event.currentTarget, true, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.hover_node(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.dehover_node(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"reopen.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.reselect();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"get_rollback.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.dehover_node();\n\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"set_rollback.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.reselect();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tvar s = this._get_settings().ui,\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.children(\"ul\").find(\"a.jstree-clicked\") : $(),\n\t\t\t\t\t\t\t_this = this;\n\t\t\t\t\t\tif(s.selected_parent_close === false || !clk.length) { return; }\n\t\t\t\t\t\tclk.each(function () { \n\t\t\t\t\t\t\t_this.deselect_node(this);\n\t\t\t\t\t\t\tif(s.selected_parent_close === \"select_parent\") { _this.select_node(obj); }\n\t\t\t\t\t\t});\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tvar s = this._get_settings().ui.select_prev_on_delete,\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.find(\"a.jstree-clicked\") : [],\n\t\t\t\t\t\t\t_this = this;\n\t\t\t\t\t\tclk.each(function () { _this.deselect_node(this); });\n\t\t\t\t\t\tif(s && clk.length) { \n\t\t\t\t\t\t\tdata.rslt.prev.each(function () { \n\t\t\t\t\t\t\t\tif(this.parentNode) { _this.select_node(this); return false; /* if return false is removed all prev nodes will be selected */}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tif(data.rslt.cy) { \n\t\t\t\t\t\t\tdata.rslt.oc.find(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tselect_limit : -1, // 0, 1, 2 ... or -1 for unlimited\n\t\t\tselect_multiple_modifier : \"ctrl\", // on, or ctrl, shift, alt\n\t\t\tselect_range_modifier : \"shift\",\n\t\t\tselected_parent_close : \"select_parent\", // false, \"deselect\", \"select_parent\"\n\t\t\tselected_parent_open : true,\n\t\t\tselect_prev_on_delete : true,\n\t\t\tdisable_selecting_children : false,\n\t\t\tinitially_select : []\n\t\t},\n\t\t_fn : { \n\t\t\t_get_node : function (obj, allow_multiple) {\n\t\t\t\tif(typeof obj === \"undefined\" || obj === null) { return allow_multiple ? this.data.ui.selected : this.data.ui.last_selected; }\n\t\t\t\tvar $obj = $(obj, this.get_container()); \n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \n\t\t\t\treturn $obj.length ? $obj : false; \n\t\t\t},\n\t\t\t_ui_notify : function (n, data) {\n\t\t\t\tif(data.selected) {\n\t\t\t\t\tthis.select_node(n, false);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsave_selected : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.ui.to_select = [];\n\t\t\t\tthis.data.ui.selected.each(function () { if(this.id) { _this.data.ui.to_select.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); } });\n\t\t\t\tthis.__callback(this.data.ui.to_select);\n\t\t\t},\n\t\t\treselect : function () {\n\t\t\t\tvar _this = this,\n\t\t\t\t\ts = this.data.ui.to_select;\n\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t// this.deselect_all(); WHY deselect, breaks plugin state notifier?\n\t\t\t\t$.each(s, function (i, val) { if(val && val !== \"#\") { _this.select_node(val); } });\n\t\t\t\tthis.data.ui.selected = this.data.ui.selected.filter(function () { return this.parentNode; });\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tthis.save_selected();\n\t\t\t\treturn this.__call_old();\n\t\t\t},\n\t\t\thover_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\t//if(this.data.ui.hovered && obj.get(0) === this.data.ui.hovered.get(0)) { return; }\n\t\t\t\tif(!obj.hasClass(\"jstree-hovered\")) { this.dehover_node(); }\n\t\t\t\tthis.data.ui.hovered = obj.children(\"a\").addClass(\"jstree-hovered\").parent();\n\t\t\t\tthis._fix_scroll(obj);\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tdehover_node : function () {\n\t\t\t\tvar obj = this.data.ui.hovered, p;\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tp = obj.children(\"a\").removeClass(\"jstree-hovered\").parent();\n\t\t\t\tif(this.data.ui.hovered[0] === p[0]) { this.data.ui.hovered = null; }\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tselect_node : function (obj, check, e) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj == -1 || !obj || !obj.length) { return false; }\n\t\t\t\tvar s = this._get_settings().ui,\n\t\t\t\t\tis_multiple = (s.select_multiple_modifier == \"on\" || (s.select_multiple_modifier !== false && e && e[s.select_multiple_modifier + \"Key\"])),\n\t\t\t\t\tis_range = (s.select_range_modifier !== false && e && e[s.select_range_modifier + \"Key\"] && this.data.ui.last_selected && this.data.ui.last_selected[0] !== obj[0] && this.data.ui.last_selected.parent()[0] === obj.parent()[0]),\n\t\t\t\t\tis_selected = this.is_selected(obj),\n\t\t\t\t\tproceed = true,\n\t\t\t\t\tt = this;\n\t\t\t\tif(check) {\n\t\t\t\t\tif(s.disable_selecting_children && is_multiple && \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(obj.parentsUntil(\".jstree\",\"li\").children(\"a.jstree-clicked\").length) ||\n\t\t\t\t\t\t\t(obj.children(\"ul\").find(\"a.jstree-clicked:eq(0)\").length)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tproceed = false;\n\t\t\t\t\tswitch(!0) {\n\t\t\t\t\t\tcase (is_range):\n\t\t\t\t\t\t\tthis.data.ui.last_selected.addClass(\"jstree-last-selected\");\n\t\t\t\t\t\t\tobj = obj[ obj.index() < this.data.ui.last_selected.index() ? \"nextUntil\" : \"prevUntil\" ](\".jstree-last-selected\").addBack();\n\t\t\t\t\t\t\tif(s.select_limit == -1 || obj.length < s.select_limit) {\n\t\t\t\t\t\t\t\tthis.data.ui.last_selected.removeClass(\"jstree-last-selected\");\n\t\t\t\t\t\t\t\tthis.data.ui.selected.each(function () {\n\t\t\t\t\t\t\t\t\tif(this !== t.data.ui.last_selected[0]) { t.deselect_node(this); }\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tis_selected = false;\n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tproceed = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (is_selected && !is_multiple): \n\t\t\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t\t\tis_selected = false;\n\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (!is_selected && !is_multiple): \n\t\t\t\t\t\t\tif(s.select_limit == -1 || s.select_limit > 0) {\n\t\t\t\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (is_selected && is_multiple): \n\t\t\t\t\t\t\tthis.deselect_node(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (!is_selected && is_multiple): \n\t\t\t\t\t\t\tif(s.select_limit == -1 || this.data.ui.selected.length + 1 <= s.select_limit) { \n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(proceed && !is_selected) {\n\t\t\t\t\tif(!is_range) { this.data.ui.last_selected = obj; }\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-clicked\");\n\t\t\t\t\tif(s.selected_parent_open) {\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\n\t\t\t\t\t}\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.add(obj);\n\t\t\t\t\tthis._fix_scroll(obj.eq(0));\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"e\" : e });\n\t\t\t\t}\n\t\t\t},\n\t\t\t_fix_scroll : function (obj) {\n\t\t\t\tvar c = this.get_container()[0], t;\n\t\t\t\tif(c.scrollHeight > c.offsetHeight) {\n\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\tif(!obj || obj === -1 || !obj.length || !obj.is(\":visible\")) { return; }\n\t\t\t\t\tt = obj.offset().top - this.get_container().offset().top;\n\t\t\t\t\tif(t < 0) { \n\t\t\t\t\t\tc.scrollTop = c.scrollTop + t - 1; \n\t\t\t\t\t}\n\t\t\t\t\tif(t + this.data.core.li_height + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0) > c.offsetHeight) { \n\t\t\t\t\t\tc.scrollTop = c.scrollTop + (t - c.offsetHeight + this.data.core.li_height + 1 + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0)); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeselect_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(this.is_selected(obj)) {\n\t\t\t\t\tobj.children(\"a\").removeClass(\"jstree-clicked\");\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.not(obj);\n\t\t\t\t\tif(this.data.ui.last_selected.get(0) === obj.get(0)) { this.data.ui.last_selected = this.data.ui.selected.eq(0); }\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoggle_select : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(this.is_selected(obj)) { this.deselect_node(obj); }\n\t\t\t\telse { this.select_node(obj); }\n\t\t\t},\n\t\t\tis_selected : function (obj) { return this.data.ui.selected.index(this._get_node(obj)) >= 0; },\n\t\t\tget_selected : function (context) { \n\t\t\t\treturn context ? $(context).find(\"a.jstree-clicked\").parent() : this.data.ui.selected; \n\t\t\t},\n\t\t\tdeselect_all : function (context) {\n\t\t\t\tvar ret = context ? $(context).find(\"a.jstree-clicked\").parent() : this.get_container().find(\"a.jstree-clicked\").parent();\n\t\t\t\tret.children(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\n\t\t\t\tthis.data.ui.selected = $([]);\n\t\t\t\tthis.data.ui.last_selected = false;\n\t\t\t\tthis.__callback({ \"obj\" : ret });\n\t\t\t}\n\t\t}\n\t});\n\t// include the selection plugin by default\n\t$.jstree.defaults.plugins.push(\"ui\");\n})(jQuery);\n//*/\n\n/* \n * jsTree CRRM plugin\n * Handles creating/renaming/removing/moving nodes by user interaction.\n */\n(function ($) {\n\t$.jstree.plugin(\"crrm\", { \n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\tif(this._get_settings().crrm.move.open_onmove) {\n\t\t\t\t\t\tvar t = this;\n\t\t\t\t\t\tdata.rslt.np.parentsUntil(\".jstree\").addBack().filter(\".jstree-closed\").each(function () {\n\t\t\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tinput_width_limit : 200,\n\t\t\tmove : {\n\t\t\t\talways_copy\t\t\t: false, // false, true or \"multitree\"\n\t\t\t\topen_onmove\t\t\t: true,\n\t\t\t\tdefault_position\t: \"last\",\n\t\t\t\tcheck_move\t\t\t: function (m) { return true; }\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\t_show_input : function (obj, callback) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar rtl = this._get_settings().core.rtl,\n\t\t\t\t\tw = this._get_settings().crrm.input_width_limit,\n\t\t\t\t\tw1 = obj.children(\"ins\").width(),\n\t\t\t\t\tw2 = obj.find(\"> a:visible > ins\").width() * obj.find(\"> a:visible > ins\").length,\n\t\t\t\t\tt = this.get_text(obj),\n\t\t\t\t\th1 = $(\"<div />\", { css : { \"position\" : \"absolute\", \"top\" : \"-200px\", \"left\" : (rtl ? \"0px\" : \"-1000px\"), \"visibility\" : \"hidden\" } }).appendTo(\"body\"),\n\t\t\t\t\th2 = obj.css(\"position\",\"relative\").append(\n\t\t\t\t\t$(\"<input />\", { \n\t\t\t\t\t\t\"value\" : t,\n\t\t\t\t\t\t\"class\" : \"jstree-rename-input\",\n\t\t\t\t\t\t// \"size\" : t.length,\n\t\t\t\t\t\t\"css\" : {\n\t\t\t\t\t\t\t\"padding\" : \"0\",\n\t\t\t\t\t\t\t\"border\" : \"1px solid silver\",\n\t\t\t\t\t\t\t\"position\" : \"absolute\",\n\t\t\t\t\t\t\t\"left\"  : (rtl ? \"auto\" : (w1 + w2 + 4) + \"px\"),\n\t\t\t\t\t\t\t\"right\" : (rtl ? (w1 + w2 + 4) + \"px\" : \"auto\"),\n\t\t\t\t\t\t\t\"top\" : \"0px\",\n\t\t\t\t\t\t\t\"height\" : (this.data.core.li_height - 2) + \"px\",\n\t\t\t\t\t\t\t\"lineHeight\" : (this.data.core.li_height - 2) + \"px\",\n\t\t\t\t\t\t\t\"width\" : \"150px\" // will be set a bit further down\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"blur\" : $.proxy(function () {\n\t\t\t\t\t\t\tvar i = obj.children(\".jstree-rename-input\"),\n\t\t\t\t\t\t\t\tv = i.val();\n\t\t\t\t\t\t\tif(v === \"\") { v = t; }\n\t\t\t\t\t\t\th1.remove();\n\t\t\t\t\t\t\ti.remove(); // rollback purposes\n\t\t\t\t\t\t\tthis.set_text(obj,t); // rollback purposes\n\t\t\t\t\t\t\tthis.rename_node(obj, v);\n\t\t\t\t\t\t\tcallback.call(this, obj, v, t);\n\t\t\t\t\t\t\tobj.css(\"position\",\"\");\n\t\t\t\t\t\t}, this),\n\t\t\t\t\t\t\"keyup\" : function (event) {\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\n\t\t\t\t\t\t\tif(key == 27) { this.value = t; this.blur(); return; }\n\t\t\t\t\t\t\telse if(key == 13) { this.blur(); return; }\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\th2.width(Math.min(h1.text(\"pW\" + this.value).width(),w));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"keypress\" : function(event) {\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\n\t\t\t\t\t\t\tif(key == 13) { return false; }\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t).children(\".jstree-rename-input\"); \n\t\t\t\tthis.set_text(obj, \"\");\n\t\t\t\th1.css({\n\t\t\t\t\t\tfontFamily\t\t: h2.css('fontFamily')\t\t|| '',\n\t\t\t\t\t\tfontSize\t\t: h2.css('fontSize')\t\t|| '',\n\t\t\t\t\t\tfontWeight\t\t: h2.css('fontWeight')\t\t|| '',\n\t\t\t\t\t\tfontStyle\t\t: h2.css('fontStyle')\t\t|| '',\n\t\t\t\t\t\tfontStretch\t\t: h2.css('fontStretch')\t\t|| '',\n\t\t\t\t\t\tfontVariant\t\t: h2.css('fontVariant')\t\t|| '',\n\t\t\t\t\t\tletterSpacing\t: h2.css('letterSpacing')\t|| '',\n\t\t\t\t\t\twordSpacing\t\t: h2.css('wordSpacing')\t\t|| ''\n\t\t\t\t});\n\t\t\t\th2.width(Math.min(h1.text(\"pW\" + h2[0].value).width(),w))[0].select();\n\t\t\t},\n\t\t\trename : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar f = this.__callback;\n\t\t\t\tthis._show_input(obj, function (obj, new_name, old_name) { \n\t\t\t\t\tf.call(this, { \"obj\" : obj, \"new_name\" : new_name, \"old_name\" : old_name });\n\t\t\t\t});\n\t\t\t},\n\t\t\tcreate : function (obj, position, js, callback, skip_rename) {\n\t\t\t\tvar t, _this = this;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tthis.__rollback();\n\t\t\t\tt = this.create_node(obj, position, js, function (t) {\n\t\t\t\t\tvar p = this._get_parent(t),\n\t\t\t\t\t\tpos = $(t).index();\n\t\t\t\t\tif(callback) { callback.call(this, t); }\n\t\t\t\t\tif(p.length && p.hasClass(\"jstree-closed\")) { this.open_node(p, false, true); }\n\t\t\t\t\tif(!skip_rename) { \n\t\t\t\t\t\tthis._show_input(t, function (obj, new_name, old_name) { \n\t\t\t\t\t\t\t_this.__callback({ \"obj\" : obj, \"name\" : new_name, \"parent\" : p, \"position\" : pos });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse { _this.__callback({ \"obj\" : t, \"name\" : this.get_text(t), \"parent\" : p, \"position\" : pos }); }\n\t\t\t\t});\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\tremove : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tvar p = this._get_parent(obj), prev = this._get_prev(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tobj = this.delete_node(obj);\n\t\t\t\tif(obj !== false) { this.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p }); }\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar s = this._get_settings().crrm.move;\n\t\t\t\tif(!s.check_move.call(this, this._get_move())) { return false; }\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\n\t\t\t\tvar s = this._get_settings().crrm.move;\n\t\t\t\tif(!is_prepared) { \n\t\t\t\t\tif(typeof position === \"undefined\") { position = s.default_position; }\n\t\t\t\t\tif(position === \"inside\" && !s.default_position.match(/^(before|after)$/)) { position = s.default_position; }\n\t\t\t\t\treturn this.__call_old(true, obj, ref, position, is_copy, false, skip_check);\n\t\t\t\t}\n\t\t\t\t// if the move is already prepared\n\t\t\t\tif(s.always_copy === true || (s.always_copy === \"multitree\" && obj.rt.get_index() !== obj.ot.get_index() )) {\n\t\t\t\t\tis_copy = true;\n\t\t\t\t}\n\t\t\t\tthis.__call_old(true, obj, ref, position, is_copy, true, skip_check);\n\t\t\t},\n\n\t\t\tcut : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tthis.data.crrm.cp_nodes = false;\n\t\t\t\tthis.data.crrm.ct_nodes = obj;\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tcopy : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tthis.data.crrm.ct_nodes = false;\n\t\t\t\tthis.data.crrm.cp_nodes = obj;\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tpaste : function (obj) { \n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tvar nodes = this.data.crrm.ct_nodes ? this.data.crrm.ct_nodes : this.data.crrm.cp_nodes;\n\t\t\t\tif(!this.data.crrm.ct_nodes && !this.data.crrm.cp_nodes) { return false; }\n\t\t\t\tif(this.data.crrm.ct_nodes) { this.move_node(this.data.crrm.ct_nodes, obj); this.data.crrm.ct_nodes = false; }\n\t\t\t\tif(this.data.crrm.cp_nodes) { this.move_node(this.data.crrm.cp_nodes, obj, false, true); }\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"nodes\" : nodes });\n\t\t\t}\n\t\t}\n\t});\n\t// include the crr plugin by default\n\t// $.jstree.defaults.plugins.push(\"crrm\");\n})(jQuery);\n//*/\n\n/* \n * jsTree themes plugin\n * Handles loading and setting themes, as well as detecting path to themes, etc.\n */\n(function ($) {\n\tvar themes_loaded = [];\n\t// this variable stores the path to the themes folder - if left as false - it will be autodetected\n\t$.jstree._themes = false;\n\t$.jstree.plugin(\"themes\", {\n\t\t__init : function () { \n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () {\n\t\t\t\t\t\tvar s = this._get_settings().themes;\n\t\t\t\t\t\tthis.data.themes.dots = s.dots; \n\t\t\t\t\t\tthis.data.themes.icons = s.icons; \n\t\t\t\t\t\tthis.set_theme(s.theme, s.url);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function () {\n\t\t\t\t\t\t// bound here too, as simple HTML tree's won't honor dots & icons otherwise\n\t\t\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\n\t\t\t\t\t\telse { this.show_dots(); }\n\t\t\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\n\t\t\t\t\t\telse { this.show_icons(); }\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : { \n\t\t\ttheme : \"default\", \n\t\t\turl : false,\n\t\t\tdots : true,\n\t\t\ticons : true\n\t\t},\n\t\t_fn : {\n\t\t\tset_theme : function (theme_name, theme_url) {\n\t\t\t\tif(!theme_name) { return false; }\n\t\t\t\tif(!theme_url) { theme_url = $.jstree._themes + theme_name + '/style.css'; }\n\t\t\t\tif($.inArray(theme_url, themes_loaded) == -1) {\n\t\t\t\t\t$.vakata.css.add_sheet({ \"url\" : theme_url });\n\t\t\t\t\tthemes_loaded.push(theme_url);\n\t\t\t\t}\n\t\t\t\tif(this.data.themes.theme != theme_name) {\n\t\t\t\t\tthis.get_container().removeClass('jstree-' + this.data.themes.theme);\n\t\t\t\t\tthis.data.themes.theme = theme_name;\n\t\t\t\t}\n\t\t\t\tthis.get_container().addClass('jstree-' + theme_name);\n\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\n\t\t\t\telse { this.show_dots(); }\n\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\n\t\t\t\telse { this.show_icons(); }\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tget_theme\t: function () { return this.data.themes.theme; },\n\n\t\t\tshow_dots\t: function () { this.data.themes.dots = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-dots\"); },\n\t\t\thide_dots\t: function () { this.data.themes.dots = false; this.get_container().children(\"ul\").addClass(\"jstree-no-dots\"); },\n\t\t\ttoggle_dots\t: function () { if(this.data.themes.dots) { this.hide_dots(); } else { this.show_dots(); } },\n\n\t\t\tshow_icons\t: function () { this.data.themes.icons = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-icons\"); },\n\t\t\thide_icons\t: function () { this.data.themes.icons = false; this.get_container().children(\"ul\").addClass(\"jstree-no-icons\"); },\n\t\t\ttoggle_icons: function () { if(this.data.themes.icons) { this.hide_icons(); } else { this.show_icons(); } }\n\t\t}\n\t});\n\t// autodetect themes path\n\t$(function () {\n\t\tif($.jstree._themes === false) {\n\t\t\t$(\"script\").each(function () { \n\t\t\t\tif(this.src.toString().match(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/)) { \n\t\t\t\t\t$.jstree._themes = this.src.toString().replace(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/, \"\") + 'themes/'; \n\t\t\t\t\treturn false; \n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif($.jstree._themes === false) { $.jstree._themes = \"themes/\"; }\n\t});\n\t// include the themes plugin by default\n\t$.jstree.defaults.plugins.push(\"themes\");\n})(jQuery);\n//*/\n\n/*\n * jsTree hotkeys plugin\n * Enables keyboard navigation for all tree instances\n * Depends on the jstree ui & jquery hotkeys plugins\n */\n(function ($) {\n\tvar bound = [];\n\tfunction exec(i, event) {\n\t\tvar f = $.jstree._focused(), tmp;\n\t\tif(f && f.data && f.data.hotkeys && f.data.hotkeys.enabled) { \n\t\t\ttmp = f._get_settings().hotkeys[i];\n\t\t\tif(tmp) { return tmp.call(f, event); }\n\t\t}\n\t}\n\t$.jstree.plugin(\"hotkeys\", {\n\t\t__init : function () {\n\t\t\tif(typeof $.hotkeys === \"undefined\") { throw \"jsTree hotkeys: jQuery hotkeys plugin not included.\"; }\n\t\t\tif(!this.data.ui) { throw \"jsTree hotkeys: jsTree UI plugin not included.\"; }\n\t\t\t$.each(this._get_settings().hotkeys, function (i, v) {\n\t\t\t\tif(v !== false && $.inArray(i, bound) == -1) {\n\t\t\t\t\t$(document).bind(\"keydown\", i, function (event) { return exec(i, event); });\n\t\t\t\t\tbound.push(i);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"lock.jstree\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.hotkeys.enabled) { this.data.hotkeys.enabled = false; this.data.hotkeys.revert = true; }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"unlock.jstree\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.hotkeys.revert) { this.data.hotkeys.enabled = true; }\n\t\t\t\t\t}, this));\n\t\t\tthis.enable_hotkeys();\n\t\t},\n\t\tdefaults : {\n\t\t\t\"up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"ctrl+up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"shift+up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"space\" : function () { \n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").click(); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"ctrl+space\" : function (event) { \n\t\t\t\tevent.type = \"click\";\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"shift+space\" : function (event) { \n\t\t\t\tevent.type = \"click\";\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"f2\" : function () { this.rename(this.data.ui.hovered || this.data.ui.last_selected); },\n\t\t\t\"del\" : function () { this.remove(this.data.ui.hovered || this._get_node(null)); }\n\t\t},\n\t\t_fn : {\n\t\t\tenable_hotkeys : function () {\n\t\t\t\tthis.data.hotkeys.enabled = true;\n\t\t\t},\n\t\t\tdisable_hotkeys : function () {\n\t\t\t\tthis.data.hotkeys.enabled = false;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree JSON plugin\n * The JSON data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.jstree.plugin(\"json_data\", {\n\t\t__init : function() {\n\t\t\tvar s = this._get_settings().json_data;\n\t\t\tif(s.progressive_unload) {\n\t\t\t\tthis.get_container().bind(\"after_close.jstree\", function (e, data) {\n\t\t\t\t\tdata.rslt.obj.children(\"ul\").remove();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdefaults : { \n\t\t\t// `data` can be a function:\n\t\t\t//  * accepts two arguments - node being loaded and a callback to pass the result to\n\t\t\t//  * will be executed in the current tree's scope & ajax won't be supported\n\t\t\tdata : false, \n\t\t\tajax : false,\n\t\t\tcorrect_state : true,\n\t\t\tprogressive_render : false,\n\t\t\tprogressive_unload : false\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_json(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tvar s = this._get_settings().json_data;\n\t\t\t\tobj = this._get_node(obj); \n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !s.progressive_render && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").length > 0;\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = this._get_settings().json_data;\n\t\t\t\tif(obj && obj !== -1 && s.progressive_unload && ($.isFunction(s.data) || !!s.ajax)) {\n\t\t\t\t\tobj.removeData(\"jstree_children\");\n\t\t\t\t}\n\t\t\t\treturn this.__call_old();\n\t\t\t},\n\t\t\tload_node_json : function (obj, s_call, e_call) {\n\t\t\t\tvar s = this.get_settings().json_data, d,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\t\t\t\tobj = this._get_node(obj);\n\n\t\t\t\tif(obj && obj !== -1 && (s.progressive_render || s.progressive_unload) && !obj.is(\".jstree-open, .jstree-leaf\") && obj.children(\"ul\").children(\"li\").length === 0 && obj.data(\"jstree_children\")) {\n\t\t\t\t\td = this._parse_json(obj.data(\"jstree_children\"), obj);\n\t\t\t\t\tif(d) {\n\t\t\t\t\t\tobj.append(d);\n\t\t\t\t\t\tif(!s.progressive_unload) { obj.removeData(\"jstree_children\"); }\n\t\t\t\t\t}\n\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\n\t\t\t\t\t// function option added here for easier model integration (also supporting async - see callback)\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\n\t\t\t\t\t\t\tif(!d) { \n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\td = this._parse_json(s.data, obj);\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\n\t\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse { \n\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().json_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\tvar sf = this.get_settings().json_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\") || (!$.isArray(d) && !$.isPlainObject(d))) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"json\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_parse_json : function (js, obj, is_callback) {\n\t\t\t\tvar d = false, \n\t\t\t\t\tp = this._get_settings(),\n\t\t\t\t\ts = p.json_data,\n\t\t\t\t\tt = p.core.html_titles,\n\t\t\t\t\ttmp, i, j, ul1, ul2;\n\n\t\t\t\tif(!js) { return d; }\n\t\t\t\tif(s.progressive_unload && obj && obj !== -1) { \n\t\t\t\t\tobj.data(\"jstree_children\", d);\n\t\t\t\t}\n\t\t\t\tif($.isArray(js)) {\n\t\t\t\t\td = $('<ul>');\n\t\t\t\t\tif(!js.length) { return false; }\n\t\t\t\t\tfor(i = 0, j = js.length; i < j; i++) {\n\t\t\t\t\t\ttmp = this._parse_json(js[i], obj, true);\n\t\t\t\t\t\tif(tmp.length) {\n\t\t\t\t\t\t\td = d.append(tmp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\td = d.children();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(typeof js == \"string\") { js = { data : js }; }\n\t\t\t\t\tif(!js.data && js.data !== \"\") { return d; }\n\t\t\t\t\td = $(\"<li />\");\n\t\t\t\t\tif(js.attr) { d.attr(js.attr); }\n\t\t\t\t\tif(js.metadata) { d.data(js.metadata); }\n\t\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\n\t\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\n\t\t\t\t\t$.each(js.data, function (i, m) {\n\t\t\t\t\t\ttmp = $(\"<a />\");\n\t\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\n\t\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ t ? \"html\" : \"text\" ](m); }\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\n\t\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\n\t\t\t\t\t\t\ttmp.attr(m.attr)[ t ? \"html\" : \"text\" ](m.title);\n\t\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\n\t\t\t\t\t\tif(m.icon) { \n\t\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\n\t\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\td.append(tmp);\n\t\t\t\t\t});\n\t\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\tif(js.children) { \n\t\t\t\t\t\tif(s.progressive_render && js.state !== \"open\") {\n\t\t\t\t\t\t\td.addClass(\"jstree-closed\").data(\"jstree_children\", js.children);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(s.progressive_unload) { d.data(\"jstree_children\", js.children); }\n\t\t\t\t\t\t\tif($.isArray(js.children) && js.children.length) {\n\t\t\t\t\t\t\t\ttmp = this._parse_json(js.children, obj, true);\n\t\t\t\t\t\t\t\tif(tmp.length) {\n\t\t\t\t\t\t\t\t\tul2 = $(\"<ul />\");\n\t\t\t\t\t\t\t\t\tul2.append(tmp);\n\t\t\t\t\t\t\t\t\td.append(ul2);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!is_callback) {\n\t\t\t\t\tul1 = $(\"<ul />\");\n\t\t\t\t\tul1.append(d);\n\t\t\t\t\td = ul1;\n\t\t\t\t}\n\t\t\t\treturn d;\n\t\t\t},\n\t\t\tget_json : function (obj, li_attr, a_attr, is_callback) {\n\t\t\t\tvar result = [], \n\t\t\t\t\ts = this._get_settings(), \n\t\t\t\t\t_this = this,\n\t\t\t\t\ttmp1, tmp2, li, a, t, lang;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\n\t\t\t\tif(!is_callback && this.data.types) { li_attr.push(s.types.type_attr); }\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\n\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tli = $(this);\n\t\t\t\t\ttmp1 = { data : [] };\n\t\t\t\t\tif(li_attr.length) { tmp1.attr = { }; }\n\t\t\t\t\t$.each(li_attr, function (i, v) { \n\t\t\t\t\t\ttmp2 = li.attr(v); \n\t\t\t\t\t\tif(tmp2 && tmp2.length && tmp2.replace(/jstree[^ ]*/ig,'').length) {\n\t\t\t\t\t\t\ttmp1.attr[v] = (\" \" + tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"); \n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { tmp1.state = \"open\"; }\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { tmp1.state = \"closed\"; }\n\t\t\t\t\tif(li.data()) { tmp1.metadata = li.data(); }\n\t\t\t\t\ta = li.children(\"a\");\n\t\t\t\t\ta.each(function () {\n\t\t\t\t\t\tt = $(this);\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\ta_attr.length || \n\t\t\t\t\t\t\t$.inArray(\"languages\", s.plugins) !== -1 || \n\t\t\t\t\t\t\tt.children(\"ins\").get(0).style.backgroundImage.length || \n\t\t\t\t\t\t\t(t.children(\"ins\").get(0).className && t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)\n\t\t\t\t\t\t) { \n\t\t\t\t\t\t\tlang = false;\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\n\t\t\t\t\t\t\t\t$.each(s.languages, function (l, lv) {\n\t\t\t\t\t\t\t\t\tif(t.hasClass(lv)) {\n\t\t\t\t\t\t\t\t\t\tlang = lv;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp2 = { attr : { }, title : _this.get_text(t, lang) }; \n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\n\t\t\t\t\t\t\t\ttmp2.attr[z] = (\" \" + (t.attr(z) || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\n\t\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\n\t\t\t\t\t\t\t\t\tif(t.hasClass(z)) { tmp2.language = z; return true; }\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).style.backgroundImage.length) {\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttmp2 = _this.get_text(t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(a.length > 1) { tmp1.data.push(tmp2); }\n\t\t\t\t\t\telse { tmp1.data = tmp2; }\n\t\t\t\t\t});\n\t\t\t\t\tli = li.find(\"> ul > li\");\n\t\t\t\t\tif(li.length) { tmp1.children = _this.get_json(li, li_attr, a_attr, true); }\n\t\t\t\t\tresult.push(tmp1);\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree languages plugin\n * Adds support for multiple language versions in one tree\n * This basically allows for many titles coexisting in one node, but only one of them being visible at any given time\n * This is useful for maintaining the same structure in many languages (hence the name of the plugin)\n */\n(function ($) {\n\tvar sh = false;\n\t$.jstree.plugin(\"languages\", {\n\t\t__init : function () { this._load_css();  },\n\t\tdefaults : [],\n\t\t_fn : {\n\t\t\tset_lang : function (i) { \n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\tst = false,\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a';\n\t\t\t\tif(!$.isArray(langs) || langs.length === 0) { return false; }\n\t\t\t\tif($.inArray(i,langs) == -1) {\n\t\t\t\t\tif(!!langs[i]) { i = langs[i]; }\n\t\t\t\t\telse { return false; }\n\t\t\t\t}\n\t\t\t\tif(i == this.data.languages.current_language) { return true; }\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + this.data.languages.current_language, false, sh);\n\t\t\t\tif(st !== false) { st.style.display = \"none\"; }\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + i, false, sh);\n\t\t\t\tif(st !== false) { st.style.display = \"\"; }\n\t\t\t\tthis.data.languages.current_language = i;\n\t\t\t\tthis.__callback(i);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tget_lang : function () {\n\t\t\t\treturn this.data.languages.current_language;\n\t\t\t},\n\t\t\t_get_string : function (key, lang) {\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.strings;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t}\n\t\t\t\tif(s[lang] && s[lang][key]) { return s[lang][key]; }\n\t\t\t\tif(s[key]) { return s[key]; }\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\tget_text : function (obj, lang) {\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\n\t\t\t\tif(!obj.size()) { return false; }\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.html_titles;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\n\t\t\t\t}\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\n\t\t\t\tif(s) {\n\t\t\t\t\tobj = obj.clone();\n\t\t\t\t\tobj.children(\"INS\").remove();\n\t\t\t\t\treturn obj.html();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\treturn obj.nodeValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset_text : function (obj, val, lang) {\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\n\t\t\t\tif(!obj.size()) { return false; }\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.html_titles,\n\t\t\t\t\ttmp;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\n\t\t\t\t}\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\n\t\t\t\tif(s) {\n\t\t\t\t\ttmp = obj.children(\"INS\").clone();\n\t\t\t\t\tobj.html(val).prepend(tmp);\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\n\t\t\t\t\treturn (obj.nodeValue = val);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_load_css : function () {\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\tstr = \"/* languages css */\",\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a',\n\t\t\t\t\tln;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tthis.data.languages.current_language = langs[0];\n\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\n\t\t\t\t\t\tstr += selector + \".\" + langs[ln] + \" {\";\n\t\t\t\t\t\tif(langs[ln] != this.data.languages.current_language) { str += \" display:none; \"; }\n\t\t\t\t\t\tstr += \" } \";\n\t\t\t\t\t}\n\t\t\t\t\tsh = $.vakata.css.add_sheet({ 'str' : str, 'title' : \"jstree-languages\" });\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreate_node : function (obj, position, js, callback) {\n\t\t\t\tvar t = this.__call_old(true, obj, position, js, function (t) {\n\t\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\t\ta = t.children(\"a\"),\n\t\t\t\t\t\tln;\n\t\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\n\t\t\t\t\t\t\tif(!a.is(\".\" + langs[ln])) {\n\t\t\t\t\t\t\t\tt.append(a.eq(0).clone().removeClass(langs.join(\" \")).addClass(langs[ln]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta.not(\".\" + langs.join(\", .\")).remove();\n\t\t\t\t\t}\n\t\t\t\t\tif(callback) { callback.call(this, t); }\n\t\t\t\t});\n\t\t\t\treturn t;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree cookies plugin\n * Stores the currently opened/selected nodes in a cookie and then restores them\n * Depends on the jquery.cookie plugin\n */\n(function ($) {\n\t$.jstree.plugin(\"cookies\", {\n\t\t__init : function () {\n\t\t\tif(typeof $.cookie === \"undefined\") { throw \"jsTree cookie: jQuery cookie plugin not included.\"; }\n\n\t\t\tvar s = this._get_settings().cookies,\n\t\t\t\ttmp;\n\t\t\tif(!!s.save_loaded) {\n\t\t\t\ttmp = $.cookie(s.save_loaded);\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_load = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tif(!!s.save_opened) {\n\t\t\t\ttmp = $.cookie(s.save_opened);\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_open = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tif(!!s.save_selected) {\n\t\t\t\ttmp = $.cookie(s.save_selected);\n\t\t\t\tif(tmp && tmp.length && this.data.ui) { this.data.ui.to_select = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tthis.get_container()\n\t\t\t\t.one( ( this.data.ui ? \"reselect\" : \"reopen\" ) + \".jstree\", $.proxy(function () {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\t\t\tif(this._get_settings().cookies.auto_save) { this.save_cookie((e.handleObj.namespace + e.handleObj.type).replace(\"jstree\",\"\")); }\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tsave_loaded\t\t: \"jstree_load\",\n\t\t\tsave_opened\t\t: \"jstree_open\",\n\t\t\tsave_selected\t: \"jstree_select\",\n\t\t\tauto_save\t\t: true,\n\t\t\tcookie_options\t: {}\n\t\t},\n\t\t_fn : {\n\t\t\tsave_cookie : function (c) {\n\t\t\t\tif(this.data.core.refreshing) { return; }\n\t\t\t\tvar s = this._get_settings().cookies;\n\t\t\t\tif(!c) { // if called manually and not by event\n\t\t\t\t\tif(s.save_loaded) {\n\t\t\t\t\t\tthis.save_loaded();\n\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\tif(s.save_opened) {\n\t\t\t\t\t\tthis.save_opened();\n\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\tif(s.save_selected && this.data.ui) {\n\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch(c) {\n\t\t\t\t\tcase \"open_node\":\n\t\t\t\t\tcase \"close_node\":\n\t\t\t\t\t\tif(!!s.save_opened) { \n\t\t\t\t\t\t\tthis.save_opened(); \n\t\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!!s.save_loaded) { \n\t\t\t\t\t\t\tthis.save_loaded(); \n\t\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"select_node\":\n\t\t\t\t\tcase \"deselect_node\":\n\t\t\t\t\t\tif(!!s.save_selected && this.data.ui) { \n\t\t\t\t\t\t\tthis.save_selected(); \n\t\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// include cookies by default\n\t// $.jstree.defaults.plugins.push(\"cookies\");\n})(jQuery);\n//*/\n\n/*\n * jsTree sort plugin\n * Sorts items alphabetically (or using any other function)\n */\n(function ($) {\n\t$.jstree.plugin(\"sort\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tvar obj = this._get_node(data.rslt.obj);\n\t\t\t\t\t\tobj = obj === -1 ? this.get_container().children(\"ul\") : obj.children(\"ul\");\n\t\t\t\t\t\tthis.sort(obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"rename_node.jstree create_node.jstree create.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.sort(data.rslt.obj.parent());\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tvar m = data.rslt.np == -1 ? this.get_container() : data.rslt.np;\n\t\t\t\t\t\tthis.sort(m.children(\"ul\"));\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : function (a, b) { return this.get_text(a) > this.get_text(b) ? 1 : -1; },\n\t\t_fn : {\n\t\t\tsort : function (obj) {\n\t\t\t\tvar s = this._get_settings().sort,\n\t\t\t\t\tt = this;\n\t\t\t\tobj.append($.makeArray(obj.children(\"li\")).sort($.proxy(s, t)));\n\t\t\t\tobj.find(\"> li > ul\").each(function() { t.sort($(this)); });\n\t\t\t\tthis.clean_node(obj);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree DND plugin\n * Drag and drop plugin for moving/copying nodes\n */\n(function ($) {\n\tvar o = false,\n\t\tr = false,\n\t\tm = false,\n\t\tml = false,\n\t\tsli = false,\n\t\tsti = false,\n\t\tdir1 = false,\n\t\tdir2 = false,\n\t\tlast_pos = false;\n\t$.vakata.dnd = {\n\t\tis_down : false,\n\t\tis_drag : false,\n\t\thelper : false,\n\t\tscroll_spd : 10,\n\t\tinit_x : 0,\n\t\tinit_y : 0,\n\t\tthreshold : 5,\n\t\thelper_left : 5,\n\t\thelper_top : 10,\n\t\tuser_data : {},\n\n\t\tdrag_start : function (e, data, html) { \n\t\t\tif($.vakata.dnd.is_drag) { $.vakata.drag_stop({}); }\n\t\t\ttry {\n\t\t\t\te.currentTarget.unselectable = \"on\";\n\t\t\t\te.currentTarget.onselectstart = function() { return false; };\n\t\t\t\tif(e.currentTarget.style) { e.currentTarget.style.MozUserSelect = \"none\"; }\n\t\t\t} catch(err) { }\n\t\t\t$.vakata.dnd.init_x = e.pageX;\n\t\t\t$.vakata.dnd.init_y = e.pageY;\n\t\t\t$.vakata.dnd.user_data = data;\n\t\t\t$.vakata.dnd.is_down = true;\n\t\t\t$.vakata.dnd.helper = $(\"<div id='vakata-dragged' />\").html(html); //.fadeTo(10,0.25);\n\t\t\t$(document).bind(\"mousemove\", $.vakata.dnd.drag);\n\t\t\t$(document).bind(\"mouseup\", $.vakata.dnd.drag_stop);\n\t\t\treturn false;\n\t\t},\n\t\tdrag : function (e) { \n\t\t\tif(!$.vakata.dnd.is_down) { return; }\n\t\t\tif(!$.vakata.dnd.is_drag) {\n\t\t\t\tif(Math.abs(e.pageX - $.vakata.dnd.init_x) > 5 || Math.abs(e.pageY - $.vakata.dnd.init_y) > 5) { \n\t\t\t\t\t$.vakata.dnd.helper.appendTo(\"body\");\n\t\t\t\t\t$.vakata.dnd.is_drag = true;\n\t\t\t\t\t$(document).triggerHandler(\"drag_start.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t\t\t}\n\t\t\t\telse { return; }\n\t\t\t}\n\n\t\t\t// maybe use a scrolling parent element instead of document?\n\t\t\tif(e.type === \"mousemove\") { // thought of adding scroll in order to move the helper, but mouse poisition is n/a\n\t\t\t\tvar d = $(document), t = d.scrollTop(), l = d.scrollLeft();\n\t\t\t\tif(e.pageY - t < 20) { \n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\n\t\t\t\t\tif(!sti) { dir1 = \"up\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() - $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\n\t\t\t\t}\n\t\t\t\tif($(window).height() - (e.pageY - t) < 20) {\n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\n\t\t\t\t\tif(!sti) { dir1 = \"down\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() + $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\n\t\t\t\t}\n\n\t\t\t\tif(e.pageX - l < 20) {\n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\n\t\t\t\t\tif(!sli) { dir2 = \"left\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() - $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\n\t\t\t\t}\n\t\t\t\tif($(window).width() - (e.pageX - l) < 20) {\n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\n\t\t\t\t\tif(!sli) { dir2 = \"right\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() + $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.vakata.dnd.helper.css({ left : (e.pageX + $.vakata.dnd.helper_left) + \"px\", top : (e.pageY + $.vakata.dnd.helper_top) + \"px\" });\n\t\t\t$(document).triggerHandler(\"drag.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t},\n\t\tdrag_stop : function (e) {\n\t\t\tif(sli) { clearInterval(sli); }\n\t\t\tif(sti) { clearInterval(sti); }\n\t\t\t$(document).unbind(\"mousemove\", $.vakata.dnd.drag);\n\t\t\t$(document).unbind(\"mouseup\", $.vakata.dnd.drag_stop);\n\t\t\t$(document).triggerHandler(\"drag_stop.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t\t$.vakata.dnd.helper.remove();\n\t\t\t$.vakata.dnd.init_x = 0;\n\t\t\t$.vakata.dnd.init_y = 0;\n\t\t\t$.vakata.dnd.user_data = {};\n\t\t\t$.vakata.dnd.is_down = false;\n\t\t\t$.vakata.dnd.is_drag = false;\n\t\t}\n\t};\n\t$(function() {\n\t\tvar css_string = '#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\n\t});\n\n\t$.jstree.plugin(\"dnd\", {\n\t\t__init : function () {\n\t\t\tthis.data.dnd = {\n\t\t\t\tactive : false,\n\t\t\t\tafter : false,\n\t\t\t\tinside : false,\n\t\t\t\tbefore : false,\n\t\t\t\toff : false,\n\t\t\t\tprepared : false,\n\t\t\t\tw : 0,\n\t\t\t\tto1 : false,\n\t\t\t\tto2 : false,\n\t\t\t\tcof : false,\n\t\t\t\tcw : false,\n\t\t\t\tch : false,\n\t\t\t\ti1 : false,\n\t\t\t\ti2 : false,\n\t\t\t\tmto : false\n\t\t\t};\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"mouseenter.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(this.data.themes) {\n\t\t\t\t\t\t\t\tm.attr(\"class\", \"jstree-\" + this.data.themes.theme); \n\t\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//if($(e.currentTarget).find(\"> ul > li\").length === 0) {\n\t\t\t\t\t\t\tif(e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\n\t\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.target), dc;\n\t\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\n\t\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\ttr.prepare_move(o, tr.get_container(), \"last\");\n\t\t\t\t\t\t\t\t\tif(tr.check_move()) {\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mouseup.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\t//if($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && $(e.currentTarget).find(\"> ul > li\").length === 0) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\n\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.currentTarget), dc;\n\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\n\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\n\t\t\t\t\t\t\t\t\ttr._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ttr.move_node(o, tr.get_container(), \"last\", e[tr._get_settings().dnd.copy_modifier + \"Key\"]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mouseleave.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\n\t\t\t\t\t\t\treturn false; \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\t\t\tif($.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mousemove.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tvar cnt = this.get_container()[0];\n\n\t\t\t\t\t\t\t// Horizontal scroll\n\t\t\t\t\t\t\tif(e.pageX + 24 > this.data.dnd.cof.left + this.data.dnd.cw) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft += $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(e.pageX - 24 < this.data.dnd.cof.left) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft -= $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Vertical scroll\n\t\t\t\t\t\t\tif(e.pageY + 24 > this.data.dnd.cof.top + this.data.dnd.ch) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop += $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(e.pageY - 24 < this.data.dnd.cof.top) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop -= $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"scroll.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && m && ml) {\n\t\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\t\tml.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mousedown.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif(e.which === 1) {\n\t\t\t\t\t\t\tthis.start_drag(e.currentTarget, e);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mousemove.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(!r || !r.length || r.children(\"a\")[0] !== e.currentTarget) {\n\t\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(typeof this.data.dnd.off.top === \"undefined\") { this.data.dnd.off = $(e.target).offset(); }\n\t\t\t\t\t\t\tthis.data.dnd.w = (e.pageY - (this.data.dnd.off.top || 0)) % this.data.core.li_height;\n\t\t\t\t\t\t\tif(this.data.dnd.w < 0) { this.data.dnd.w += this.data.core.li_height; }\n\t\t\t\t\t\t\tthis.dnd_show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\n\t\t\t\t\t\t\t\treturn false; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tvar ec = $(e.currentTarget).closest(\"li\"), \n\t\t\t\t\t\t\t\ter = $(e.relatedTarget).closest(\"li\");\n\t\t\t\t\t\t\tif(er[0] !== ec.prev()[0] && er[0] !== ec.next()[0]) {\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tthis.data.dnd.mto = setTimeout( \n\t\t\t\t\t\t\t\t(function (t) { return function () { t.dnd_leave(e); }; })(this),\n\t\t\t\t\t\t\t0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseup.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tthis.dnd_finish(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\n\t\t\t$(document)\n\t\t\t\t.bind(\"drag_stop.vakata\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\tthis.data.dnd.after\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.before\t= false;\n\t\t\t\t\t\tthis.data.dnd.inside\t= false;\n\t\t\t\t\t\tthis.data.dnd.off\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.prepared\t= false;\n\t\t\t\t\t\tthis.data.dnd.w\t\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.to1\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.to2\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.i1\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.i2\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.active\t= false;\n\t\t\t\t\t\tthis.data.dnd.foreign\t= false;\n\t\t\t\t\t\tif(m) { m.css({ \"top\" : \"-2000px\" }); }\n\t\t\t\t\t\tif(ml) { ml.css({ \"top\" : \"-2000px\" }); }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"drag_start.vakata\", $.proxy(function (e, data) {\n\t\t\t\t\t\tif(data.data.jstree) { \n\t\t\t\t\t\t\tvar et = $(data.event.target);\n\t\t\t\t\t\t\tif(et.closest(\".jstree\").hasClass(\"jstree-\" + this.get_index())) {\n\t\t\t\t\t\t\t\tthis.dnd_enter(et);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\t\t/*\n\t\t\t\t.bind(\"keydown.jstree-\" + this.get_index() + \" keyup.jstree-\" + this.get_index(), $.proxy(function(e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && !this.data.dnd.foreign) {\n\t\t\t\t\t\t\tvar h = $.vakata.dnd.helper.children(\"ins\");\n\t\t\t\t\t\t\tif(e[this._get_settings().dnd.copy_modifier + \"Key\"] && h.hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\") + \" (Copy)\");\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)); */\n\n\n\n\t\t\tvar s = this._get_settings().dnd;\n\t\t\tif(s.drag_target) {\n\t\t\t\t$(document)\n\t\t\t\t\t.delegate(s.drag_target, \"mousedown.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\to = e.target;\n\t\t\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : e.target }, \"<ins class='jstree-icon'></ins>\" + $(e.target).text() );\n\t\t\t\t\t\tif(this.data.themes) { \n\t\t\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\tvar cnt = this.get_container();\n\t\t\t\t\t\tthis.data.dnd.cof = cnt.offset();\n\t\t\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\n\t\t\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\n\t\t\t\t\t\tthis.data.dnd.foreign = true;\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, this));\n\t\t\t}\n\t\t\tif(s.drop_target) {\n\t\t\t\t$(document)\n\t\t\t\t\t.delegate(s.drop_target, \"mouseenter.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active && this._get_settings().dnd.drop_check.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e })) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.delegate(s.drop_target, \"mouseleave.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.delegate(s.drop_target, \"mouseup.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active && $.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\tthis._get_settings().dnd.drop_finish.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\tcopy_modifier\t: \"ctrl\",\n\t\t\tcheck_timeout\t: 100,\n\t\t\topen_timeout\t: 500,\n\t\t\tdrop_target\t\t: \".jstree-drop\",\n\t\t\tdrop_check\t\t: function (data) { return true; },\n\t\t\tdrop_finish\t\t: $.noop,\n\t\t\tdrag_target\t\t: \".jstree-draggable\",\n\t\t\tdrag_finish\t\t: $.noop,\n\t\t\tdrag_check\t\t: function (data) { return { after : false, before : false, inside : true }; }\n\t\t},\n\t\t_fn : {\n\t\t\tdnd_prepare : function () {\n\t\t\t\tif(!r || !r.length) { return; }\n\t\t\t\tthis.data.dnd.off = r.offset();\n\t\t\t\tif(this._get_settings().core.rtl) {\n\t\t\t\t\tthis.data.dnd.off.right = this.data.dnd.off.left + r.width();\n\t\t\t\t}\n\t\t\t\tif(this.data.dnd.foreign) {\n\t\t\t\t\tvar a = this._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : r });\n\t\t\t\t\tthis.data.dnd.after = a.after;\n\t\t\t\t\tthis.data.dnd.before = a.before;\n\t\t\t\t\tthis.data.dnd.inside = a.inside;\n\t\t\t\t\tthis.data.dnd.prepared = true;\n\t\t\t\t\treturn this.dnd_show();\n\t\t\t\t}\n\t\t\t\tthis.prepare_move(o, r, \"before\");\n\t\t\t\tthis.data.dnd.before = this.check_move();\n\t\t\t\tthis.prepare_move(o, r, \"after\");\n\t\t\t\tthis.data.dnd.after = this.check_move();\n\t\t\t\tif(this._is_loaded(r)) {\n\t\t\t\t\tthis.prepare_move(o, r, \"inside\");\n\t\t\t\t\tthis.data.dnd.inside = this.check_move();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.data.dnd.inside = false;\n\t\t\t\t}\n\t\t\t\tthis.data.dnd.prepared = true;\n\t\t\t\treturn this.dnd_show();\n\t\t\t},\n\t\t\tdnd_show : function () {\n\t\t\t\tif(!this.data.dnd.prepared) { return; }\n\t\t\t\tvar o = [\"before\",\"inside\",\"after\"],\n\t\t\t\t\tr = false,\n\t\t\t\t\trtl = this._get_settings().core.rtl,\n\t\t\t\t\tpos;\n\t\t\t\tif(this.data.dnd.w < this.data.core.li_height/3) { o = [\"before\",\"inside\",\"after\"]; }\n\t\t\t\telse if(this.data.dnd.w <= this.data.core.li_height*2/3) {\n\t\t\t\t\to = this.data.dnd.w < this.data.core.li_height/2 ? [\"inside\",\"before\",\"after\"] : [\"inside\",\"after\",\"before\"];\n\t\t\t\t}\n\t\t\t\telse { o = [\"after\",\"inside\",\"before\"]; }\n\t\t\t\t$.each(o, $.proxy(function (i, val) { \n\t\t\t\t\tif(this.data.dnd[val]) {\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\tr = val;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t\t\tif(r === false) { $.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\"); }\n\t\t\t\t\n\t\t\t\tpos = rtl ? (this.data.dnd.off.right - 18) : (this.data.dnd.off.left + 10);\n\t\t\t\tswitch(r) {\n\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top - 6) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top - 1) + \"px\" }).show(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 6) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 1) + \"px\" }).show(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + ( rtl ? -4 : 4) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height/2 - 5) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast_pos = r;\n\t\t\t\treturn r;\n\t\t\t},\n\t\t\tdnd_open : function () {\n\t\t\t\tthis.data.dnd.to2 = false;\n\t\t\t\tthis.open_node(r, $.proxy(this.dnd_prepare,this), true);\n\t\t\t},\n\t\t\tdnd_finish : function (e) {\n\t\t\t\tif(this.data.dnd.foreign) {\n\t\t\t\t\tif(this.data.dnd.after || this.data.dnd.before || this.data.dnd.inside) {\n\t\t\t\t\t\tthis._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : r, \"p\" : last_pos });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.dnd_prepare();\n\t\t\t\t\tthis.move_node(o, r, last_pos, e[this._get_settings().dnd.copy_modifier + \"Key\"]);\n\t\t\t\t}\n\t\t\t\to = false;\n\t\t\t\tr = false;\n\t\t\t\tm.hide();\n\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t},\n\t\t\tdnd_enter : function (obj) {\n\t\t\t\tif(this.data.dnd.mto) { \n\t\t\t\t\tclearTimeout(this.data.dnd.mto);\n\t\t\t\t\tthis.data.dnd.mto = false;\n\t\t\t\t}\n\t\t\t\tvar s = this._get_settings().dnd;\n\t\t\t\tthis.data.dnd.prepared = false;\n\t\t\t\tr = this._get_node(obj);\n\t\t\t\tif(s.check_timeout) { \n\t\t\t\t\t// do the calculations after a minimal timeout (users tend to drag quickly to the desired location)\n\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\tthis.data.dnd.to1 = setTimeout($.proxy(this.dnd_prepare, this), s.check_timeout); \n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tthis.dnd_prepare(); \n\t\t\t\t}\n\t\t\t\tif(s.open_timeout) { \n\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \n\t\t\t\t\t\t// if the node is closed - open it, then recalculate\n\t\t\t\t\t\tthis.data.dnd.to2 = setTimeout($.proxy(this.dnd_open, this), s.open_timeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \n\t\t\t\t\t\tthis.dnd_open();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdnd_leave : function (e) {\n\t\t\t\tthis.data.dnd.after\t\t= false;\n\t\t\t\tthis.data.dnd.before\t= false;\n\t\t\t\tthis.data.dnd.inside\t= false;\n\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\tm.hide();\n\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\tif(r && r[0] === e.target.parentNode) {\n\t\t\t\t\tif(this.data.dnd.to1) {\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to1);\n\t\t\t\t\t\tthis.data.dnd.to1 = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(this.data.dnd.to2) {\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to2);\n\t\t\t\t\t\tthis.data.dnd.to2 = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstart_drag : function (obj, e) {\n\t\t\t\to = this._get_node(obj);\n\t\t\t\tif(this.data.ui && this.is_selected(o)) { o = this._get_node(null, true); }\n\t\t\t\tvar dt = o.length > 1 ? this._get_string(\"multiple_selection\") : this.get_text(o),\n\t\t\t\t\tcnt = this.get_container();\n\t\t\t\tif(!this._get_settings().core.html_titles) { dt = dt.replace(/</ig,\"&lt;\").replace(/>/ig,\"&gt;\"); }\n\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : o }, \"<ins class='jstree-icon'></ins>\" + dt );\n\t\t\t\tif(this.data.themes) { \n\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \n\t\t\t\t}\n\t\t\t\tthis.data.dnd.cof = cnt.offset();\n\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\n\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\n\t\t\t\tthis.data.dnd.active = true;\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; ' + \n\t\t\t' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; ' +\n\t\t\t'} ' + \n\t\t\t'#vakata-dragged .jstree-ok { background:green; } ' + \n\t\t\t'#vakata-dragged .jstree-invalid { background:red; } ' + \n\t\t\t'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } ' + \n\t\t\t'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; ' + \n\t\t\t' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; ' + \n\t\t\t' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; ' +\n\t\t\t'}' + \n\t\t\t'';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t\tm = $(\"<div />\").attr({ id : \"jstree-marker\" }).hide().html(\"&raquo;\")\n\t\t\t.bind(\"mouseleave mouseenter\", function (e) { \n\t\t\t\tm.hide();\n\t\t\t\tml.hide();\n\t\t\t\te.preventDefault(); \n\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\treturn false; \n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\tml = $(\"<div />\").attr({ id : \"jstree-marker-line\" }).hide()\n\t\t\t.bind(\"mouseup\", function (e) { \n\t\t\t\tif(r && r.length) { \n\t\t\t\t\tr.children(\"a\").trigger(e); \n\t\t\t\t\te.preventDefault(); \n\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\treturn false; \n\t\t\t\t} \n\t\t\t})\n\t\t\t.bind(\"mouseleave\", function (e) { \n\t\t\t\tvar rt = $(e.relatedTarget);\n\t\t\t\tif(rt.is(\".jstree\") || rt.closest(\".jstree\").length === 0) {\n\t\t\t\t\tif(r && r.length) { \n\t\t\t\t\t\tr.children(\"a\").trigger(e); \n\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\tml.hide();\n\t\t\t\t\t\te.preventDefault(); \n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\treturn false; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\t$(document).bind(\"drag_start.vakata\", function (e, data) {\n\t\t\tif(data.data.jstree) { m.show(); if(ml) { ml.show(); } }\n\t\t});\n\t\t$(document).bind(\"drag_stop.vakata\", function (e, data) {\n\t\t\tif(data.data.jstree) { m.hide(); if(ml) { ml.hide(); } }\n\t\t});\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree checkbox plugin\n * Inserts checkboxes in front of every node\n * Depends on the ui plugin\n * DOES NOT WORK NICELY WITH MULTITREE DRAG'N'DROP\n */\n(function ($) {\n\t$.jstree.plugin(\"checkbox\", {\n\t\t__init : function () {\n\t\t\tthis.data.checkbox.noui = this._get_settings().checkbox.override_ui;\n\t\t\tif(this.data.ui && this.data.checkbox.noui) {\n\t\t\t\tthis.select_node = this.deselect_node = this.deselect_all = $.noop;\n\t\t\t\tthis.get_selected = this.get_checked;\n\t\t\t}\n\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree refresh.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._prepare_checkboxes(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tthis._prepare_checkboxes();\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate( (this.data.ui && this.data.checkbox.noui ? \"a\" : \"ins.jstree-checkbox\") , \"click.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif(this._get_node(e.target).hasClass(\"jstree-checked\")) { this.uncheck_node(e.target); }\n\t\t\t\t\t\telse { this.check_node(e.target); }\n\t\t\t\t\t\tif(this.data.ui && this.data.checkbox.noui) {\n\t\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t\t\tif(this.data.cookies) { this.save_cookie(\"select_node\"); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\toverride_ui : false,\n\t\t\ttwo_state : false,\n\t\t\treal_checkboxes : false,\n\t\t\tchecked_parent_open : true,\n\t\t\treal_checkboxes_names : function (n) { return [ (\"check_\" + (n[0].id || Math.ceil(Math.random() * 10000))) , 1]; }\n\t\t},\n\t\t__destroy : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.find(\"input.jstree-real-checkbox\").removeClass(\"jstree-real-checkbox\").end()\n\t\t\t\t.find(\"ins.jstree-checkbox\").remove();\n\t\t},\n\t\t_fn : {\n\t\t\t_checkbox_notify : function (n, data) {\n\t\t\t\tif(data.checked) {\n\t\t\t\t\tthis.check_node(n, false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_prepare_checkboxes : function (obj) {\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\n\t\t\t\tvar c, _this = this, t, ts = this._get_settings().checkbox.two_state, rc = this._get_settings().checkbox.real_checkboxes, rcn = this._get_settings().checkbox.real_checkboxes_names;\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tt = $(this);\n\t\t\t\t\tc = t.is(\"li\") && (t.hasClass(\"jstree-checked\") || (rc && t.children(\":checked\").length)) ? \"jstree-checked\" : \"jstree-unchecked\";\n\t\t\t\t\tt.find(\"li\").addBack().each(function () {\n\t\t\t\t\t\tvar $t = $(this), nm;\n\t\t\t\t\t\t$t.children(\"a\" + (_this.data.languages ? \"\" : \":eq(0)\") ).not(\":has(.jstree-checkbox)\").prepend(\"<ins class='jstree-checkbox'>&#160;</ins>\").parent().not(\".jstree-checked, .jstree-unchecked\").addClass( ts ? \"jstree-unchecked\" : c );\n\t\t\t\t\t\tif(rc) {\n\t\t\t\t\t\t\tif(!$t.children(\":checkbox\").length) {\n\t\t\t\t\t\t\t\tnm = rcn.call(_this, $t);\n\t\t\t\t\t\t\t\t$t.prepend(\"<input type='checkbox' class='jstree-real-checkbox' id='\" + nm[0] + \"' name='\" + nm[0] + \"' value='\" + nm[1] + \"' />\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$t.children(\":checkbox\").addClass(\"jstree-real-checkbox\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!ts) {\n\t\t\t\t\t\t\tif(c === \"jstree-checked\" || $t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\n\t\t\t\t\t\t\t\t$t.find(\"li\").addBack().addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\n\t\t\t\t\t\t\t\t$t.addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif(!ts) {\n\t\t\t\t\tobj.find(\".jstree-checked\").parent().parent().each(function () { _this._repair_state(this); }); \n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_state : function (obj, state) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar coll = false, rc = this._get_settings().checkbox.real_checkboxes;\n\t\t\t\tif(!obj || obj === -1) { return false; }\n\t\t\t\tstate = (state === false || state === true) ? state : obj.hasClass(\"jstree-checked\");\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\n\t\t\t\t\tif(state) { \n\t\t\t\t\t\tobj.removeClass(\"jstree-checked\").addClass(\"jstree-unchecked\"); \n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t}\n\t\t\t\t\telse { \n\t\t\t\t\t\tobj.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\"); \n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(state) { \n\t\t\t\t\t\tcoll = obj.find(\"li\").addBack();\n\t\t\t\t\t\tif(!coll.filter(\".jstree-checked, .jstree-undetermined\").length) { return false; }\n\t\t\t\t\t\tcoll.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\"); \n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t}\n\t\t\t\t\telse { \n\t\t\t\t\t\tcoll = obj.find(\"li\").addBack();\n\t\t\t\t\t\tif(!coll.filter(\".jstree-unchecked, .jstree-undetermined\").length) { return false; }\n\t\t\t\t\t\tcoll.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\"); \n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t\tif(this.data.ui) { this.data.ui.last_selected = obj; }\n\t\t\t\t\t\tthis.data.checkbox.last_selected = obj;\n\t\t\t\t\t}\n\t\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif(state) {\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-checked, li.jstree-undetermined\").length) {\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-unchecked, li.jstree-undetermined\").length) {\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { this.data.ui.selected = this.get_checked(); }\n\t\t\t\tthis.__callback(obj);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tcheck_node : function (obj) {\n\t\t\t\tif(this.change_state(obj, false)) { \n\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\tif(this._get_settings().checkbox.checked_parent_open) {\n\t\t\t\t\t\tvar t = this;\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\n\t\t\t\t\t}\n\t\t\t\t\tthis.__callback({ \"obj\" : obj }); \n\t\t\t\t}\n\t\t\t},\n\t\t\tuncheck_node : function (obj) {\n\t\t\t\tif(this.change_state(obj, true)) { this.__callback({ \"obj\" : this._get_node(obj) }); }\n\t\t\t},\n\t\t\tcheck_all : function () {\n\t\t\t\tvar _this = this, \n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\n\t\t\t\tcoll.each(function () {\n\t\t\t\t\t_this.change_state(this, false);\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tuncheck_all : function () {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\n\t\t\t\tcoll.each(function () {\n\t\t\t\t\t_this.change_state(this, true);\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t},\n\n\t\t\tis_checked : function(obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn obj.length ? obj.is(\".jstree-checked\") : false;\n\t\t\t},\n\t\t\tget_checked : function (obj, get_all) {\n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-checked\") : obj.find(\"> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked\");\n\t\t\t},\n\t\t\tget_unchecked : function (obj, get_all) { \n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-unchecked\") : obj.find(\"> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked\");\n\t\t\t},\n\n\t\t\tshow_checkboxes : function () { this.get_container().children(\"ul\").removeClass(\"jstree-no-checkboxes\"); },\n\t\t\thide_checkboxes : function () { this.get_container().children(\"ul\").addClass(\"jstree-no-checkboxes\"); },\n\n\t\t\t_repair_state : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return; }\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\n\t\t\t\t\tobj.find('li').addBack().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked', true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar rc = this._get_settings().checkbox.real_checkboxes,\n\t\t\t\t\ta = obj.find(\"> ul > .jstree-checked\").length,\n\t\t\t\t\tb = obj.find(\"> ul > .jstree-undetermined\").length,\n\t\t\t\t\tc = obj.find(\"> ul > li\").length;\n\t\t\t\tif(c === 0) { if(obj.hasClass(\"jstree-undetermined\")) { this.change_state(obj, false); } }\n\t\t\t\telse if(a === 0 && b === 0) { this.change_state(obj, true); }\n\t\t\t\telse if(a === c) { this.change_state(obj, false); }\n\t\t\t\telse { \n\t\t\t\t\tobj.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\tif(rc) { obj.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t}\n\t\t\t},\n\t\t\treselect : function () {\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { \n\t\t\t\t\tvar _this = this,\n\t\t\t\t\t\ts = this.data.ui.to_select;\n\t\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t$.each(s, function (i, val) { _this.check_node(val); });\n\t\t\t\t\tthis.__callback();\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tthis.__call_old(); \n\t\t\t\t}\n\t\t\t},\n\t\t\tsave_loaded : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.core.to_load = [];\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-closed.jstree-undetermined\").each(function () {\n\t\t\t\t\tif(this.id) { _this.data.core.to_load.push(\"#\" + this.id); }\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '.jstree .jstree-real-checkbox { display:none; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree XML plugin\n * The XML data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.vakata.xslt = function (xml, xsl, callback) {\n\t\tvar r = false, p, q, s;\n\t\t// IE9\n\t\tif(r === false && window.ActiveXObject) {\n\t\t\ttry {\n\t\t\t\tr = new ActiveXObject(\"Msxml2.XSLTemplate\");\n\t\t\t\tq = new ActiveXObject(\"Msxml2.DOMDocument\");\n\t\t\t\tq.loadXML(xml);\n\t\t\t\ts = new ActiveXObject(\"Msxml2.FreeThreadedDOMDocument\");\n\t\t\t\ts.loadXML(xsl);\n\t\t\t\tr.stylesheet = s;\n\t\t\t\tp = r.createProcessor();\n\t\t\t\tp.input = q;\n\t\t\t\tp.transform();\n\t\t\t\tr = p.output;\n\t\t\t}\n\t\t\tcatch (e) { }\n\t\t}\n\t\txml = $.parseXML(xml);\n\t\txsl = $.parseXML(xsl);\n\t\t// FF, Chrome\n\t\tif(r === false && typeof (XSLTProcessor) !== \"undefined\") {\n\t\t\tp = new XSLTProcessor();\n\t\t\tp.importStylesheet(xsl);\n\t\t\tr = p.transformToFragment(xml, document);\n\t\t\tr = $('<div />').append(r).html();\n\t\t}\n\t\t// OLD IE\n\t\tif(r === false && typeof (xml.transformNode) !== \"undefined\") {\n\t\t\tr = xml.transformNode(xsl);\n\t\t}\n\t\tcallback.call(null, r);\n\t};\n\tvar xsl = {\n\t\t'nest' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/html\" />' + \n\t\t\t'<xsl:template match=\"/\">' + \n\t\t\t'\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t<xsl:with-param name=\"node\" select=\"/root\" />' + \n\t\t\t'\t</xsl:call-template>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'<xsl:template name=\"nodes\">' + \n\t\t\t'\t<xsl:param name=\"node\" />' + \n\t\t\t'\t<ul>' + \n\t\t\t'\t<xsl:for-each select=\"$node/item\">' + \n\t\t\t'\t\t<xsl:variable name=\"children\" select=\"count(./item) &gt; 0\" />' + \n\t\t\t'\t\t<li>' + \n\t\t\t'\t\t\t<xsl:attribute name=\"class\">' + \n\t\t\t'\t\t\t\t<xsl:if test=\"position() = last()\">jstree-last </xsl:if>' + \n\t\t\t'\t\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \n\t\t\t'\t\t\t\t</xsl:choose>' + \n\t\t\t'\t\t\t\t<xsl:value-of select=\"@class\" />' + \n\t\t\t'\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t\t<xsl:if test=\"name() != \\'class\\' and name() != \\'state\\' and name() != \\'hasChildren\\'\">' + \n\t\t\t'\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t</xsl:if>' + \n\t\t\t'\t\t\t</xsl:for-each>' + \n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \n\t\t\t'\t\t\t<xsl:for-each select=\"content/name\">' + \n\t\t\t'\t\t\t\t<a>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"href\">' + \n\t\t\t'\t\t\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \n\t\t\t'\t\t\t\t\t</xsl:choose>' + \n\t\t\t'\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t\t</xsl:if>' + \n\t\t\t'\t\t\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t\t\t<ins>' + \n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \n\t\t\t'\t\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \n\t\t\t'\t\t\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \n\t\t\t'\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \n\t\t\t'\t\t\t\t\t</ins>' + \n\t\t\t'\t\t\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \n\t\t\t'\t\t\t\t</a>' + \n\t\t\t'\t\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t<xsl:if test=\"$children or @hasChildren\"><xsl:call-template name=\"nodes\"><xsl:with-param name=\"node\" select=\"current()\" /></xsl:call-template></xsl:if>' + \n\t\t\t'\t\t</li>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t</ul>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'</xsl:stylesheet>',\n\n\t\t'flat' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/xml\" />' + \n\t\t\t'<xsl:template match=\"/\">' + \n\t\t\t'\t<ul>' + \n\t\t\t'\t<xsl:for-each select=\"//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]\">' + /* the last `or` may be removed */\n\t\t\t'\t\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \n\t\t\t'\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \n\t\t\t'\t\t</xsl:call-template>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t</ul>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'<xsl:template name=\"nodes\">' + \n\t\t\t'\t<xsl:param name=\"node\" />' + \n\t\t\t'\t<xsl:param name=\"is_last\" />' + \n\t\t\t'\t<xsl:variable name=\"children\" select=\"count(//item[@parent_id=$node/attribute::id]) &gt; 0\" />' + \n\t\t\t'\t<li>' + \n\t\t\t'\t<xsl:attribute name=\"class\">' + \n\t\t\t'\t\t<xsl:if test=\"$is_last = true()\">jstree-last </xsl:if>' + \n\t\t\t'\t\t<xsl:choose>' + \n\t\t\t'\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \n\t\t\t'\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \n\t\t\t'\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \n\t\t\t'\t\t</xsl:choose>' + \n\t\t\t'\t\t<xsl:value-of select=\"@class\" />' + \n\t\t\t'\t</xsl:attribute>' + \n\t\t\t'\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t<xsl:if test=\"name() != \\'parent_id\\' and name() != \\'hasChildren\\' and name() != \\'class\\' and name() != \\'state\\'\">' + \n\t\t\t'\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t</xsl:if>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \n\t\t\t'\t<xsl:for-each select=\"content/name\">' + \n\t\t\t'\t\t<a>' + \n\t\t\t'\t\t<xsl:attribute name=\"href\">' + \n\t\t\t'\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \n\t\t\t'\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \n\t\t\t'\t\t\t</xsl:choose>' + \n\t\t\t'\t\t</xsl:attribute>' + \n\t\t\t'\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \n\t\t\t'\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \n\t\t\t'\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t</xsl:if>' + \n\t\t\t'\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t<ins>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \n\t\t\t'\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \n\t\t\t'\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \n\t\t\t'\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \n\t\t\t'\t\t\t</ins>' + \n\t\t\t'\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \n\t\t\t'\t\t</a>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t<xsl:if test=\"$children\">' + \n\t\t\t'\t\t<ul>' + \n\t\t\t'\t\t<xsl:for-each select=\"//item[@parent_id=$node/attribute::id]\">' + \n\t\t\t'\t\t\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \n\t\t\t'\t\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \n\t\t\t'\t\t\t</xsl:call-template>' + \n\t\t\t'\t\t</xsl:for-each>' + \n\t\t\t'\t\t</ul>' + \n\t\t\t'\t</xsl:if>' + \n\t\t\t'\t</li>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'</xsl:stylesheet>'\n\t},\n\tescape_xml = function(string) {\n\t\treturn string\n\t\t\t.toString()\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&apos;');\n\t};\n\t$.jstree.plugin(\"xml_data\", {\n\t\tdefaults : { \n\t\t\tdata : false,\n\t\t\tajax : false,\n\t\t\txsl : \"flat\",\n\t\t\tclean_node : false,\n\t\t\tcorrect_state : true,\n\t\t\tget_skip_empty : false,\n\t\t\tget_include_preamble : true\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_xml(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tvar s = this._get_settings().xml_data;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\n\t\t\t},\n\t\t\tload_node_xml : function (obj, s_call, e_call) {\n\t\t\t\tvar s = this.get_settings().xml_data,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\tthis.parse_xml(s.data, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse { \n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().xml_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj !== -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\td = x.responseText;\n\t\t\t\t\t\t\tvar sf = this.get_settings().xml_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"xml\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tparse_xml : function (xml, callback) {\n\t\t\t\tvar s = this._get_settings().xml_data;\n\t\t\t\t$.vakata.xslt(xml, xsl[s.xsl], callback);\n\t\t\t},\n\t\t\tget_xml : function (tp, obj, li_attr, a_attr, is_callback) {\n\t\t\t\tvar result = \"\", \n\t\t\t\t\ts = this._get_settings(), \n\t\t\t\t\t_this = this,\n\t\t\t\t\ttmp1, tmp2, li, a, lang;\n\t\t\t\tif(!tp) { tp = \"flat\"; }\n\t\t\t\tif(!is_callback) { is_callback = 0; }\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\n\t\t\t\tif(!is_callback && this.data.types && $.inArray(s.types.type_attr, li_attr) === -1) { li_attr.push(s.types.type_attr); }\n\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\n\n\t\t\t\tif(!is_callback) { \n\t\t\t\t\tif(s.xml_data.get_include_preamble) { \n\t\t\t\t\t\tresult += '<' + '?xml version=\"1.0\" encoding=\"UTF-8\"?' + '>'; \n\t\t\t\t\t}\n\t\t\t\t\tresult += \"<root>\"; \n\t\t\t\t}\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tresult += \"<item\";\n\t\t\t\t\tli = $(this);\n\t\t\t\t\t$.each(li_attr, function (i, v) { \n\t\t\t\t\t\tvar t = li.attr(v);\n\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\n\t\t\t\t\t\t\tresult += \" \" + v + \"=\\\"\" + escape_xml((\" \" + (t || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\"; \n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { result += \" state=\\\"open\\\"\"; }\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { result += \" state=\\\"closed\\\"\"; }\n\t\t\t\t\tif(tp === \"flat\") { result += \" parent_id=\\\"\" + escape_xml(is_callback) + \"\\\"\"; }\n\t\t\t\t\tresult += \">\";\n\t\t\t\t\tresult += \"<content>\";\n\t\t\t\t\ta = li.children(\"a\");\n\t\t\t\t\ta.each(function () {\n\t\t\t\t\t\ttmp1 = $(this);\n\t\t\t\t\t\tlang = false;\n\t\t\t\t\t\tresult += \"<name\";\n\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1) {\n\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\n\t\t\t\t\t\t\t\tif(tmp1.hasClass(z)) { result += \" lang=\\\"\" + escape_xml(z) + \"\\\"\"; lang = z; return false; }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(a_attr.length) { \n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\n\t\t\t\t\t\t\t\tvar t = tmp1.attr(z);\n\t\t\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tresult += \" \" + z + \"=\\\"\" + escape_xml((\" \" + t || \"\").replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).style.backgroundImage.length) {\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\").replace(/'/ig,\"\").replace(/\"/ig,\"\")) + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += \">\";\n\t\t\t\t\t\tresult += \"<![CDATA[\" + _this.get_text(tmp1, lang) + \"]]>\";\n\t\t\t\t\t\tresult += \"</name>\";\n\t\t\t\t\t});\n\t\t\t\t\tresult += \"</content>\";\n\t\t\t\t\ttmp2 = li[0].id || true;\n\t\t\t\t\tli = li.find(\"> ul > li\");\n\t\t\t\t\tif(li.length) { tmp2 = _this.get_xml(tp, li, li_attr, a_attr, tmp2); }\n\t\t\t\t\telse { tmp2 = \"\"; }\n\t\t\t\t\tif(tp == \"nest\") { result += tmp2; }\n\t\t\t\t\tresult += \"</item>\";\n\t\t\t\t\tif(tp == \"flat\") { result += tmp2; }\n\t\t\t\t});\n\t\t\t\tif(!is_callback) { result += \"</root>\"; }\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree search plugin\n * Enables both sync and async search on the tree\n * DOES NOT WORK WITH JSON PROGRESSIVE RENDER\n */\n(function ($) {\n\tif($().jquery.split('.')[1] >= 8) {\n\t\t$.expr[':'].jstree_contains = $.expr.createPseudo(function(search) {\n\t\t\treturn function(a) {\n\t\t\t\treturn (a.textContent || a.innerText || \"\").toLowerCase().indexOf(search.toLowerCase())>=0;\n\t\t\t};\n\t\t});\n\t\t$.expr[':'].jstree_title_contains = $.expr.createPseudo(function(search) {\n\t\t\treturn function(a) {\n\t\t\t\treturn (a.getAttribute(\"title\") || \"\").toLowerCase().indexOf(search.toLowerCase())>=0;\n\t\t\t};\n\t\t});\n\t}\n\telse {\n\t\t$.expr[':'].jstree_contains = function(a,i,m){\n\t\t\treturn (a.textContent || a.innerText || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\n\t\t};\n\t\t$.expr[':'].jstree_title_contains = function(a,i,m) {\n\t\t\treturn (a.getAttribute(\"title\") || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\n\t\t};\n\t}\n\t$.jstree.plugin(\"search\", {\n\t\t__init : function () {\n\t\t\tthis.data.search.str = \"\";\n\t\t\tthis.data.search.result = $();\n\t\t\tif(this._get_settings().search.show_only_matches) {\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.bind(\"search.jstree\", function (e, data) {\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").hide().removeClass(\"jstree-last\");\n\t\t\t\t\t\tdata.rslt.nodes.parentsUntil(\".jstree\").addBack().show()\n\t\t\t\t\t\t\t.filter(\"ul\").each(function () { $(this).children(\"li:visible\").eq(-1).addClass(\"jstree-last\"); });\n\t\t\t\t\t})\n\t\t\t\t\t.bind(\"clear_search.jstree\", function () {\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").css(\"display\",\"\").end().end().jstree(\"clean_node\", -1);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\tajax : false,\n\t\t\tsearch_method : \"jstree_contains\", // for case insensitive - jstree_contains\n\t\t\tshow_only_matches : false\n\t\t},\n\t\t_fn : {\n\t\t\tsearch : function (str, skip_async) {\n\t\t\t\tif($.trim(str) === \"\") { this.clear_search(); return; }\n\t\t\t\tvar s = this.get_settings().search, \n\t\t\t\t\tt = this,\n\t\t\t\t\terror_func = function () { },\n\t\t\t\t\tsuccess_func = function () { };\n\t\t\t\tthis.data.search.str = str;\n\n\t\t\t\tif(!skip_async && s.ajax !== false && this.get_container_ul().find(\"li.jstree-closed:not(:has(ul)):eq(0)\").length > 0) {\n\t\t\t\t\tthis.search.supress_callback = true;\n\t\t\t\t\terror_func = function () { };\n\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\tvar sf = this.get_settings().search.ajax.success; \n\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\tthis.data.search.to_open = d;\n\t\t\t\t\t\tthis._search_open();\n\t\t\t\t\t};\n\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, str); }\n\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, str); }\n\t\t\t\t\tif(!s.ajax.data) { s.ajax.data = { \"search_string\" : str }; }\n\t\t\t\t\tif(!s.ajax.dataType || /^json/.exec(s.ajax.dataType)) { s.ajax.dataType = \"json\"; }\n\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.data.search.result.length) { this.clear_search(); }\n\t\t\t\tthis.data.search.result = this.get_container().find(\"a\" + (this.data.languages ? \".\" + this.get_lang() : \"\" ) + \":\" + (s.search_method) + \"(\" + this.data.search.str + \")\");\n\t\t\t\tthis.data.search.result.addClass(\"jstree-search\").parent().parents(\".jstree-closed\").each(function () {\n\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t});\n\t\t\t\tthis.__callback({ nodes : this.data.search.result, str : str });\n\t\t\t},\n\t\t\tclear_search : function (str) {\n\t\t\t\tthis.data.search.result.removeClass(\"jstree-search\");\n\t\t\t\tthis.__callback(this.data.search.result);\n\t\t\t\tthis.data.search.result = $();\n\t\t\t},\n\t\t\t_search_open : function (is_callback) {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tdone = true,\n\t\t\t\t\tcurrent = [],\n\t\t\t\t\tremaining = [];\n\t\t\t\tif(this.data.search.to_open.length) {\n\t\t\t\t\t$.each(this.data.search.to_open, function (i, val) {\n\t\t\t\t\t\tif(val == \"#\") { return true; }\n\t\t\t\t\t\tif($(val).length && $(val).is(\".jstree-closed\")) { current.push(val); }\n\t\t\t\t\t\telse { remaining.push(val); }\n\t\t\t\t\t});\n\t\t\t\t\tif(current.length) {\n\t\t\t\t\t\tthis.data.search.to_open = remaining;\n\t\t\t\t\t\t$.each(current, function (i, val) { \n\t\t\t\t\t\t\t_this.open_node(val, function () { _this._search_open(true); }); \n\t\t\t\t\t\t});\n\t\t\t\t\t\tdone = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(done) { this.search(this.data.search.str, true); }\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree contextmenu plugin\n */\n(function ($) {\n\t$.vakata.context = {\n\t\thide_on_mouseleave : false,\n\n\t\tcnt\t\t: $(\"<div id='vakata-contextmenu' />\"),\n\t\tvis\t\t: false,\n\t\ttgt\t\t: false,\n\t\tpar\t\t: false,\n\t\tfunc\t: false,\n\t\tdata\t: false,\n\t\trtl\t\t: false,\n\t\tshow\t: function (s, t, x, y, d, p, rtl) {\n\t\t\t$.vakata.context.rtl = !!rtl;\n\t\t\tvar html = $.vakata.context.parse(s), h, w;\n\t\t\tif(!html) { return; }\n\t\t\t$.vakata.context.vis = true;\n\t\t\t$.vakata.context.tgt = t;\n\t\t\t$.vakata.context.par = p || t || null;\n\t\t\t$.vakata.context.data = d || null;\n\t\t\t$.vakata.context.cnt\n\t\t\t\t.html(html)\n\t\t\t\t.css({ \"visibility\" : \"hidden\", \"display\" : \"block\", \"left\" : 0, \"top\" : 0 });\n\n\t\t\tif($.vakata.context.hide_on_mouseleave) {\n\t\t\t\t$.vakata.context.cnt\n\t\t\t\t\t.one(\"mouseleave\", function(e) { $.vakata.context.hide(); });\n\t\t\t}\n\n\t\t\th = $.vakata.context.cnt.height();\n\t\t\tw = $.vakata.context.cnt.width();\n\t\t\tif(x + w > $(document).width()) { \n\t\t\t\tx = $(document).width() - (w + 5); \n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"right\"); \n\t\t\t}\n\t\t\tif(y + h > $(document).height()) { \n\t\t\t\ty = y - (h + t[0].offsetHeight); \n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"bottom\"); \n\t\t\t}\n\n\t\t\t$.vakata.context.cnt\n\t\t\t\t.css({ \"left\" : x, \"top\" : y })\n\t\t\t\t.find(\"li:has(ul)\")\n\t\t\t\t\t.bind(\"mouseenter\", function (e) { \n\t\t\t\t\t\tvar w = $(document).width(),\n\t\t\t\t\t\t\th = $(document).height(),\n\t\t\t\t\t\t\tul = $(this).children(\"ul\").show(); \n\t\t\t\t\t\tif(w !== $(document).width()) { ul.toggleClass(\"right\"); }\n\t\t\t\t\t\tif(h !== $(document).height()) { ul.toggleClass(\"bottom\"); }\n\t\t\t\t\t})\n\t\t\t\t\t.bind(\"mouseleave\", function (e) { \n\t\t\t\t\t\t$(this).children(\"ul\").hide(); \n\t\t\t\t\t})\n\t\t\t\t\t.end()\n\t\t\t\t.css({ \"visibility\" : \"visible\" })\n\t\t\t\t.show();\n\t\t\t$(document).triggerHandler(\"context_show.vakata\");\n\t\t},\n\t\thide\t: function () {\n\t\t\t$.vakata.context.vis = false;\n\t\t\t$.vakata.context.cnt.attr(\"class\",\"\").css({ \"visibility\" : \"hidden\" });\n\t\t\t$(document).triggerHandler(\"context_hide.vakata\");\n\t\t},\n\t\tparse\t: function (s, is_callback) {\n\t\t\tif(!s) { return false; }\n\t\t\tvar str = \"\",\n\t\t\t\ttmp = false,\n\t\t\t\twas_sep = true;\n\t\t\tif(!is_callback) { $.vakata.context.func = {}; }\n\t\t\tstr += \"<ul>\";\n\t\t\t$.each(s, function (i, val) {\n\t\t\t\tif(!val) { return true; }\n\t\t\t\t$.vakata.context.func[i] = val.action;\n\t\t\t\tif(!was_sep && val.separator_before) {\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-before'></li>\";\n\t\t\t\t}\n\t\t\t\twas_sep = false;\n\t\t\t\tstr += \"<li class='\" + (val._class || \"\") + (val._disabled ? \" jstree-contextmenu-disabled \" : \"\") + \"'><ins \";\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") === -1) { str += \" class='\" + val.icon + \"' \"; }\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") !== -1) { str += \" style='background:url(\" + val.icon + \") center center no-repeat;' \"; }\n\t\t\t\tstr += \">&#160;</ins><a href='#' rel='\" + i + \"'>\";\n\t\t\t\tif(val.submenu) {\n\t\t\t\t\tstr += \"<span style='float:\" + ($.vakata.context.rtl ? \"left\" : \"right\") + \";'>&raquo;</span>\";\n\t\t\t\t}\n\t\t\t\tstr += val.label + \"</a>\";\n\t\t\t\tif(val.submenu) {\n\t\t\t\t\ttmp = $.vakata.context.parse(val.submenu, true);\n\t\t\t\t\tif(tmp) { str += tmp; }\n\t\t\t\t}\n\t\t\t\tstr += \"</li>\";\n\t\t\t\tif(val.separator_after) {\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-after'></li>\";\n\t\t\t\t\twas_sep = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tstr = str.replace(/<li class\\='vakata-separator vakata-separator-after'\\><\\/li\\>$/,\"\");\n\t\t\tstr += \"</ul>\";\n\t\t\t$(document).triggerHandler(\"context_parse.vakata\");\n\t\t\treturn str.length > 10 ? str : false;\n\t\t},\n\t\texec\t: function (i) {\n\t\t\tif($.isFunction($.vakata.context.func[i])) {\n\t\t\t\t// if is string - eval and call it!\n\t\t\t\t$.vakata.context.func[i].call($.vakata.context.data, $.vakata.context.par);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse { return false; }\n\t\t}\n\t};\n\t$(function () {\n\t\tvar css_string = '' + \n\t\t\t'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } ' + \n\t\t\t'#vakata-contextmenu ul { min-width:180px; *width:180px; } ' + \n\t\t\t'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } ' + \n\t\t\t'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } ' + \n\t\t\t'#vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } ' + \n\t\t\t'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } ' + \n\t\t\t'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } ' + \n\t\t\t'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } ' + \n\t\t\t'#vakata-contextmenu .right { right:100%; left:auto; } ' + \n\t\t\t'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } ' + \n\t\t\t'#vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\n\t\t$.vakata.context.cnt\n\t\t\t.delegate(\"a\",\"click\", function (e) { e.preventDefault(); })\n\t\t\t.delegate(\"a\",\"mouseup\", function (e) {\n\t\t\t\tif(!$(this).parent().hasClass(\"jstree-contextmenu-disabled\") && $.vakata.context.exec($(this).attr(\"rel\"))) {\n\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t}\n\t\t\t\telse { $(this).blur(); }\n\t\t\t})\n\t\t\t.delegate(\"a\",\"mouseover\", function () {\n\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").removeClass(\"vakata-hover\");\n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\t$(document).bind(\"mousedown\", function (e) { if($.vakata.context.vis && !$.contains($.vakata.context.cnt[0], e.target)) { $.vakata.context.hide(); } });\n\t\tif(typeof $.hotkeys !== \"undefined\") {\n\t\t\t$(document)\n\t\t\t\t.bind(\"keydown\", \"up\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").prevAll(\"li:not(.vakata-separator)\").first();\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").last(); }\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"down\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").nextAll(\"li:not(.vakata-separator)\").first();\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").first(); }\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"right\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").show().children(\"li:not(.vakata-separator)\").removeClass(\"vakata-hover\").first().addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"left\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").hide().children(\".vakata-separator\").removeClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"esc\", function (e) { \n\t\t\t\t\t$.vakata.context.hide(); \n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"space\", function (e) { \n\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").last().children(\"a\").click();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t});\n\n\t$.jstree.plugin(\"contextmenu\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.delegate(\"a\", \"contextmenu.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.show_contextmenu(e.currentTarget, e.pageX, e.pageY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif(this.data.contextmenu) {\n\t\t\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"destroy.jstree\", $.proxy(function () {\n\t\t\t\t\t\t// TODO: move this to descruct method\n\t\t\t\t\t\tif(this.data.contextmenu) {\n\t\t\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\t$(document).bind(\"context_hide.vakata\", $.proxy(function () { this.data.contextmenu = false; }, this));\n\t\t},\n\t\tdefaults : { \n\t\t\tselect_node : false, // requires UI plugin\n\t\t\tshow_at_node : true,\n\t\t\titems : { // Could be a function that should return an object like this one\n\t\t\t\t\"create\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"separator_after\"\t: true,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Create\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.create(obj); }\n\t\t\t\t},\n\t\t\t\t\"rename\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Rename\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.rename(obj); }\n\t\t\t\t},\n\t\t\t\t\"remove\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Delete\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { if(this.is_selected(obj)) { this.remove(); } else { this.remove(obj); } }\n\t\t\t\t},\n\t\t\t\t\"ccp\" : {\n\t\t\t\t\t\"separator_before\"\t: true,\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Edit\",\n\t\t\t\t\t\"action\"\t\t\t: false,\n\t\t\t\t\t\"submenu\" : { \n\t\t\t\t\t\t\"cut\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Cut\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.cut(obj); }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"copy\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Copy\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.copy(obj); }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"paste\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Paste\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.paste(obj); }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\tshow_contextmenu : function (obj, x, y) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = this.get_settings().contextmenu,\n\t\t\t\t\ta = obj.children(\"a:visible:eq(0)\"),\n\t\t\t\t\to = false,\n\t\t\t\t\ti = false;\n\t\t\t\tif(s.select_node && this.data.ui && !this.is_selected(obj)) {\n\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\tthis.select_node(obj, true);\n\t\t\t\t}\n\t\t\t\tif(s.show_at_node || typeof x === \"undefined\" || typeof y === \"undefined\") {\n\t\t\t\t\to = a.offset();\n\t\t\t\t\tx = o.left;\n\t\t\t\t\ty = o.top + this.data.core.li_height;\n\t\t\t\t}\n\t\t\t\ti = obj.data(\"jstree\") && obj.data(\"jstree\").contextmenu ? obj.data(\"jstree\").contextmenu : s.items;\n\t\t\t\tif($.isFunction(i)) { i = i.call(this, obj); }\n\t\t\t\tthis.data.contextmenu = true;\n\t\t\t\t$.vakata.context.show(i, a, x, y, this, obj, this._get_settings().core.rtl);\n\t\t\t\tif(this.data.themes) { $.vakata.context.cnt.attr(\"class\", \"jstree-\" + this.data.themes.theme + \"-context\"); }\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree types plugin\n * Adds support types of nodes\n * You can set an attribute on each li node, that represents its type.\n * According to the type setting the node may get custom icon/validation rules\n */\n(function ($) {\n\t$.jstree.plugin(\"types\", {\n\t\t__init : function () {\n\t\t\tvar s = this._get_settings().types;\n\t\t\tthis.data.types.attach_to = [];\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () { \n\t\t\t\t\t\tvar types = s.types, \n\t\t\t\t\t\t\tattr  = s.type_attr, \n\t\t\t\t\t\t\ticons_css = \"\", \n\t\t\t\t\t\t\t_this = this;\n\n\t\t\t\t\t\t$.each(types, function (i, tp) {\n\t\t\t\t\t\t\t$.each(tp, function (k, v) { \n\t\t\t\t\t\t\t\tif(!/^(max_depth|max_children|icon|valid_children)$/.test(k)) { _this.data.types.attach_to.push(k); }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(!tp.icon) { return true; }\n\t\t\t\t\t\t\tif( tp.icon.image || tp.icon.position) {\n\t\t\t\t\t\t\t\tif(i == \"default\")\t{ icons_css += '.jstree-' + _this.get_index() + ' a > .jstree-icon { '; }\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += '.jstree-' + _this.get_index() + ' li[' + attr + '=\"' + i + '\"] > a > .jstree-icon { '; }\n\t\t\t\t\t\t\t\tif(tp.icon.image)\t{ icons_css += ' background-image:url(' + tp.icon.image + '); '; }\n\t\t\t\t\t\t\t\tif(tp.icon.position){ icons_css += ' background-position:' + tp.icon.position + '; '; }\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += ' background-position:0 0; '; }\n\t\t\t\t\t\t\t\ticons_css += '} ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(icons_css !== \"\") { $.vakata.css.add_sheet({ 'str' : icons_css, title : \"jstree-types\" }); }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tvar s, t, \n\t\t\t\t\t\t\to = this._get_settings().types.use_data ? this._get_node(data.args[0]) : false, \n\t\t\t\t\t\t\td = o && o !== -1 && o.length ? o.data(\"jstree\") : false;\n\t\t\t\t\t\tif(d && d.types && d.types[data.func] === false) { e.stopImmediatePropagation(); return false; }\n\t\t\t\t\t\tif($.inArray(data.func, this.data.types.attach_to) !== -1) {\n\t\t\t\t\t\t\tif(!data.args[0] || (!data.args[0].tagName && !data.args[0].jquery)) { return; }\n\t\t\t\t\t\t\ts = this._get_settings().types.types;\n\t\t\t\t\t\t\tt = this._get_type(data.args[0]);\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t( \n\t\t\t\t\t\t\t\t\t(s[t] && typeof s[t][data.func] !== \"undefined\") || \n\t\t\t\t\t\t\t\t\t(s[\"default\"] && typeof s[\"default\"][data.func] !== \"undefined\") \n\t\t\t\t\t\t\t\t) && this._check(data.func, data.args[0]) === false\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\tif(is_ie6) {\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.bind(\"load_node.jstree set_type.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\t\tvar r = data && data.rslt && data.rslt.obj && data.rslt.obj !== -1 ? this._get_node(data.rslt.obj).parent() : this.get_container_ul(),\n\t\t\t\t\t\t\t\tc = false,\n\t\t\t\t\t\t\t\ts = this._get_settings().types;\n\t\t\t\t\t\t\t$.each(s.types, function (i, tp) {\n\t\t\t\t\t\t\t\tif(tp.icon && (tp.icon.image || tp.icon.position)) {\n\t\t\t\t\t\t\t\t\tc = i === \"default\" ? r.find(\"li > a > .jstree-icon\") : r.find(\"li[\" + s.type_attr + \"='\" + i + \"'] > a > .jstree-icon\");\n\t\t\t\t\t\t\t\t\tif(tp.icon.image) { c.css(\"backgroundImage\",\"url(\" + tp.icon.image + \")\"); }\n\t\t\t\t\t\t\t\t\tc.css(\"backgroundPosition\", tp.icon.position || \"0 0\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, this));\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\t// defines maximum number of root nodes (-1 means unlimited, -2 means disable max_children checking)\n\t\t\tmax_children\t\t: -1,\n\t\t\t// defines the maximum depth of the tree (-1 means unlimited, -2 means disable max_depth checking)\n\t\t\tmax_depth\t\t\t: -1,\n\t\t\t// defines valid node types for the root nodes\n\t\t\tvalid_children\t\t: \"all\",\n\n\t\t\t// whether to use $.data\n\t\t\tuse_data : false, \n\t\t\t// where is the type stores (the rel attribute of the LI element)\n\t\t\ttype_attr : \"rel\",\n\t\t\t// a list of types\n\t\t\ttypes : {\n\t\t\t\t// the default type\n\t\t\t\t\"default\" : {\n\t\t\t\t\t\"max_children\"\t: -1,\n\t\t\t\t\t\"max_depth\"\t\t: -1,\n\t\t\t\t\t\"valid_children\": \"all\"\n\n\t\t\t\t\t// Bound functions - you can bind any other function here (using boolean or function)\n\t\t\t\t\t//\"select_node\"\t: true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\t_types_notify : function (n, data) {\n\t\t\t\tif(data.type && this._get_settings().types.use_data) {\n\t\t\t\t\tthis.set_type(data.type, n);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_get_type : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn (!obj || !obj.length) ? false : obj.attr(this._get_settings().types.type_attr) || \"default\";\n\t\t\t},\n\t\t\tset_type : function (str, obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar ret = (!obj.length || !str) ? false : obj.attr(this._get_settings().types.type_attr, str);\n\t\t\t\tif(ret) { this.__callback({ obj : obj, type : str}); }\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\t_check : function (rule, obj, opts) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar v = false, t = this._get_type(obj), d = 0, _this = this, s = this._get_settings().types, data = false;\n\t\t\t\tif(obj === -1) { \n\t\t\t\t\tif(!!s[rule]) { v = s[rule]; }\n\t\t\t\t\telse { return; }\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(t === false) { return; }\n\t\t\t\t\tdata = s.use_data ? obj.data(\"jstree\") : false;\n\t\t\t\t\tif(data && data.types && typeof data.types[rule] !== \"undefined\") { v = data.types[rule]; }\n\t\t\t\t\telse if(!!s.types[t] && typeof s.types[t][rule] !== \"undefined\") { v = s.types[t][rule]; }\n\t\t\t\t\telse if(!!s.types[\"default\"] && typeof s.types[\"default\"][rule] !== \"undefined\") { v = s.types[\"default\"][rule]; }\n\t\t\t\t}\n\t\t\t\tif($.isFunction(v)) { v = v.call(this, obj); }\n\t\t\t\tif(rule === \"max_depth\" && obj !== -1 && opts !== false && s.max_depth !== -2 && v !== 0) {\n\t\t\t\t\t// also include the node itself - otherwise if root node it is not checked\n\t\t\t\t\tobj.children(\"a:eq(0)\").parentsUntil(\".jstree\",\"li\").each(function (i) {\n\t\t\t\t\t\t// check if current depth already exceeds global tree depth\n\t\t\t\t\t\tif(s.max_depth !== -1 && s.max_depth - (i + 1) <= 0) { v = 0; return false; }\n\t\t\t\t\t\td = (i === 0) ? v : _this._check(rule, this, false);\n\t\t\t\t\t\t// check if current node max depth is already matched or exceeded\n\t\t\t\t\t\tif(d !== -1 && d - (i + 1) <= 0) { v = 0; return false; }\n\t\t\t\t\t\t// otherwise - set the max depth to the current value minus current depth\n\t\t\t\t\t\tif(d >= 0 && (d - (i + 1) < v || v < 0) ) { v = d - (i + 1); }\n\t\t\t\t\t\t// if the global tree depth exists and it minus the nodes calculated so far is less than `v` or `v` is unlimited\n\t\t\t\t\t\tif(s.max_depth >= 0 && (s.max_depth - (i + 1) < v || v < 0) ) { v = s.max_depth - (i + 1); }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar m  = this._get_move(),\n\t\t\t\t\ts  = m.rt._get_settings().types,\n\t\t\t\t\tmc = m.rt._check(\"max_children\", m.cr),\n\t\t\t\t\tmd = m.rt._check(\"max_depth\", m.cr),\n\t\t\t\t\tvc = m.rt._check(\"valid_children\", m.cr),\n\t\t\t\t\tch = 0, d = 1, t;\n\n\t\t\t\tif(vc === \"none\") { return false; } \n\t\t\t\tif($.isArray(vc) && m.ot && m.ot._get_type) {\n\t\t\t\t\tm.o.each(function () {\n\t\t\t\t\t\tif($.inArray(m.ot._get_type(this), vc) === -1) { d = false; return false; }\n\t\t\t\t\t});\n\t\t\t\t\tif(d === false) { return false; }\n\t\t\t\t}\n\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\n\t\t\t\t\tch = m.cr === -1 ? this.get_container().find(\"> ul > li\").not(m.o).length : m.cr.find(\"> ul > li\").not(m.o).length;\n\t\t\t\t\tif(ch + m.o.length > mc) { return false; }\n\t\t\t\t}\n\t\t\t\tif(s.max_depth !== -2 && md !== -1) {\n\t\t\t\t\td = 0;\n\t\t\t\t\tif(md === 0) { return false; }\n\t\t\t\t\tif(typeof m.o.d === \"undefined\") {\n\t\t\t\t\t\t// TODO: deal with progressive rendering and async when checking max_depth (how to know the depth of the moved node)\n\t\t\t\t\t\tt = m.o;\n\t\t\t\t\t\twhile(t.length > 0) {\n\t\t\t\t\t\t\tt = t.find(\"> ul > li\");\n\t\t\t\t\t\t\td ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm.o.d = d;\n\t\t\t\t\t}\n\t\t\t\t\tif(md - m.o.d < 0) { return false; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tcreate_node : function (obj, position, js, callback, is_loaded, skip_check) {\n\t\t\t\tif(!skip_check && (is_loaded || this._is_loaded(obj))) {\n\t\t\t\t\tvar p  = (typeof position == \"string\" && position.match(/^before|after$/i) && obj !== -1) ? this._get_parent(obj) : this._get_node(obj),\n\t\t\t\t\t\ts  = this._get_settings().types,\n\t\t\t\t\t\tmc = this._check(\"max_children\", p),\n\t\t\t\t\t\tmd = this._check(\"max_depth\", p),\n\t\t\t\t\t\tvc = this._check(\"valid_children\", p),\n\t\t\t\t\t\tch;\n\t\t\t\t\tif(typeof js === \"string\") { js = { data : js }; }\n\t\t\t\t\tif(!js) { js = {}; }\n\t\t\t\t\tif(vc === \"none\") { return false; } \n\t\t\t\t\tif($.isArray(vc)) {\n\t\t\t\t\t\tif(!js.attr || !js.attr[s.type_attr]) { \n\t\t\t\t\t\t\tif(!js.attr) { js.attr = {}; }\n\t\t\t\t\t\t\tjs.attr[s.type_attr] = vc[0]; \n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($.inArray(js.attr[s.type_attr], vc) === -1) { return false; }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\n\t\t\t\t\t\tch = p === -1 ? this.get_container().find(\"> ul > li\").length : p.find(\"> ul > li\").length;\n\t\t\t\t\t\tif(ch + 1 > mc) { return false; }\n\t\t\t\t\t}\n\t\t\t\t\tif(s.max_depth !== -2 && md !== -1 && (md - 1) < 0) { return false; }\n\t\t\t\t}\n\t\t\t\treturn this.__call_old(true, obj, position, js, callback, is_loaded, skip_check);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree HTML plugin\n * The HTML data store. Datastores are build by replacing the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.jstree.plugin(\"html_data\", {\n\t\t__init : function () { \n\t\t\t// this used to use html() and clean the whitespace, but this way any attached data was lost\n\t\t\tthis.data.html_data.original_container_html = this.get_container().find(\" > ul > li\").clone(true);\n\t\t\t// remove white space from LI node - otherwise nodes appear a bit to the right\n\t\t\tthis.data.html_data.original_container_html.find(\"li\").addBack().contents().filter(function() { return this.nodeType == 3; }).remove();\n\t\t},\n\t\tdefaults : { \n\t\t\tdata : false,\n\t\t\tajax : false,\n\t\t\tcorrect_state : true\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_html(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tobj = this._get_node(obj); \n\t\t\t\treturn obj == -1 || !obj || (!this._get_settings().html_data.ajax && !$.isFunction(this._get_settings().html_data.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\n\t\t\t},\n\t\t\tload_node_html : function (obj, s_call, e_call) {\n\t\t\t\tvar d,\n\t\t\t\t\ts = this.get_settings().html_data,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\tif(d && d !== \"\" && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") !== \"\") {\n\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !s.ajax):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t\t.children(\"ul\").empty()\n\t\t\t\t\t\t\t\t.append(this.data.html_data.original_container_html)\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\n\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\td = $(s.data);\n\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t\t.children(\"ul\").empty().append(d.children())\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\n\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().html_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\tvar sf = this.get_settings().html_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"html\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// include the HTML data plugin by default\n\t$.jstree.defaults.plugins.push(\"html_data\");\n})(jQuery);\n//*/\n\n/* \n * jsTree themeroller plugin\n * Adds support for jQuery UI themes. Include this at the end of your plugins list, also make sure \"themes\" is not included.\n */\n(function ($) {\n\t$.jstree.plugin(\"themeroller\", {\n\t\t__init : function () {\n\t\t\tvar s = this._get_settings().themeroller;\n\t\t\tthis.get_container()\n\t\t\t\t.addClass(\"ui-widget-content\")\n\t\t\t\t.addClass(\"jstree-themeroller\")\n\t\t\t\t.delegate(\"a\",\"mouseenter.jstree\", function (e) {\n\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t$(this).addClass(s.item_h);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.delegate(\"a\",\"mouseleave.jstree\", function () {\n\t\t\t\t\t$(this).removeClass(s.item_h);\n\t\t\t\t})\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tdata.inst.get_container().find(\"> ul > li > .jstree-loading > ins\").addClass(\"ui-icon-refresh\");\n\t\t\t\t\t\tthis._themeroller(data.inst.get_container().find(\"> ul > li\"));\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree refresh.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tthis._themeroller();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.parent);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"correct_state.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened + \" \" + s.closed + \" ui-icon\").end()\n\t\t\t\t\t\t\t.find(\"> a > ins.ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_open + \" \" + s.item_clsd).addClass(s.item_leaf || \"jstree-no-icon\");\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"select_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_a);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"deselect_node.jstree deselect_all.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_a).removeClass(s.item_a).end()\n\t\t\t\t\t\t\t.find(\"a.jstree-clicked\").addClass(s.item_a);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"dehover_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").removeClass(s.item_h);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"hover_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_h).not(data.rslt.obj).removeClass(s.item_h);\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_h);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.o);\n\t\t\t\t\t\tthis._themeroller(data.rslt.op);\n\t\t\t\t\t}, this));\n\t\t},\n\t\t__destroy : function () {\n\t\t\tvar s = this._get_settings().themeroller,\n\t\t\t\tc = [ \"ui-icon\" ];\n\t\t\t$.each(s, function (i, v) {\n\t\t\t\tv = v.split(\" \");\n\t\t\t\tif(v.length) { c = c.concat(v); }\n\t\t\t});\n\t\t\tthis.get_container()\n\t\t\t\t.removeClass(\"ui-widget-content\")\n\t\t\t\t.find(\".\" + c.join(\", .\")).removeClass(c.join(\" \"));\n\t\t},\n\t\t_fn : {\n\t\t\t_themeroller : function (obj) {\n\t\t\t\tvar s = this._get_settings().themeroller;\n\t\t\t\tobj = (!obj || obj == -1) ? this.get_container_ul() : this._get_node(obj);\n\t\t\t\tobj = (!obj || obj == -1) ? this.get_container_ul() : obj.parent();\n\t\t\t\tobj\n\t\t\t\t\t.find(\"li.jstree-closed\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened).addClass(\"ui-icon \" + s.closed).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_open).addClass(s.item_clsd || \"jstree-no-icon\")\n\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.end()\n\t\t\t\t\t.end()\n\t\t\t\t\t.find(\"li.jstree-open\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed).addClass(\"ui-icon \" + s.opened).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_clsd).addClass(s.item_open || \"jstree-no-icon\")\n\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.end()\n\t\t\t\t\t.end()\n\t\t\t\t\t.find(\"li.jstree-leaf\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed + \" ui-icon \" + s.opened).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_clsd + \" \" + s.item_open).addClass(s.item_leaf || \"jstree-no-icon\");\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\t\"opened\"\t: \"ui-icon-triangle-1-se\",\n\t\t\t\"closed\"\t: \"ui-icon-triangle-1-e\",\n\t\t\t\"item\"\t\t: \"ui-state-default\",\n\t\t\t\"item_h\"\t: \"ui-state-hover\",\n\t\t\t\"item_a\"\t: \"ui-state-active\",\n\t\t\t\"item_open\"\t: \"ui-icon-folder-open\",\n\t\t\t\"item_clsd\"\t: \"ui-icon-folder-collapsed\",\n\t\t\t\"item_leaf\"\t: \"ui-icon-document\"\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'.jstree-themeroller .ui-icon { overflow:visible; } ' + \n\t\t\t'.jstree-themeroller a { padding:0 2px; } ' + \n\t\t\t'.jstree-themeroller .jstree-no-icon { display:none; }';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree unique plugin\n * Forces different names amongst siblings (still a bit experimental)\n * NOTE: does not check language versions (it will not be possible to have nodes with the same title, even in different languages)\n */\n(function ($) {\n\t$.jstree.plugin(\"unique\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tvar nms = [], res = true, p, t;\n\t\t\t\t\t\tif(data.func == \"move_node\") {\n\t\t\t\t\t\t\t// obj, ref, position, is_copy, is_prepared, skip_check\n\t\t\t\t\t\t\tif(data.args[4] === true) {\n\t\t\t\t\t\t\t\tif(data.args[0].o && data.args[0].o.length) {\n\t\t\t\t\t\t\t\t\tdata.args[0].o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\t\t\t\t\t\tres = this._check_unique(nms, data.args[0].np.find(\"> ul > li\").not(data.args[0].o), \"move_node\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data.func == \"create_node\") {\n\t\t\t\t\t\t\t// obj, position, js, callback, is_loaded\n\t\t\t\t\t\t\tif(data.args[4] || this._is_loaded(data.args[0])) {\n\t\t\t\t\t\t\t\tp = this._get_node(data.args[0]);\n\t\t\t\t\t\t\t\tif(data.args[1] && (data.args[1] === \"before\" || data.args[1] === \"after\")) {\n\t\t\t\t\t\t\t\t\tp = this._get_parent(data.args[0]);\n\t\t\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(typeof data.args[2] === \"string\") { nms.push(data.args[2]); }\n\t\t\t\t\t\t\t\telse if(!data.args[2] || !data.args[2].data) { nms.push(this._get_string(\"new_node\")); }\n\t\t\t\t\t\t\t\telse { nms.push(data.args[2].data); }\n\t\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\"), \"create_node\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data.func == \"rename_node\") {\n\t\t\t\t\t\t\t// obj, val\n\t\t\t\t\t\t\tnms.push(data.args[1]);\n\t\t\t\t\t\t\tt = this._get_node(data.args[0]);\n\t\t\t\t\t\t\tp = this._get_parent(t);\n\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\n\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\").not(t), \"rename_node\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!res) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : { \n\t\t\terror_callback : $.noop\n\t\t},\n\t\t_fn : { \n\t\t\t_check_unique : function (nms, p, func) {\n\t\t\t\tvar cnms = [], ok = true;\n\t\t\t\tp.children(\"a\").each(function () { cnms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\tif(!cnms.length || !nms.length) { return true; }\n\t\t\t\t$.each(nms, function (i, v) {\n\t\t\t\t\tif($.inArray(v, cnms) !== -1) {\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(!ok) {\n\t\t\t\t\tthis._get_settings().unique.error_callback.call(null, nms, p, func);\n\t\t\t\t}\n\t\t\t\treturn ok;\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar p = this._get_move(), nms = [];\n\t\t\t\tif(p.o && p.o.length) {\n\t\t\t\t\tp.o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\t\treturn this._check_unique(nms, p.np.find(\"> ul > li\").not(p.o), \"check_move\");\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree wholerow plugin\n * Makes select and hover work on the entire width of the node\n * MAY BE HEAVY IN LARGE DOM\n */\n(function ($) {\n\t$.jstree.plugin(\"wholerow\", {\n\t\t__init : function () {\n\t\t\tif(!this.data.ui) { throw \"jsTree wholerow: jsTree UI plugin not included.\"; }\n\t\t\tthis.data.wholerow.html = false;\n\t\t\tthis.data.wholerow.to = false;\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._get_settings().core.animation = 0;\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree loaded.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._prepare_wholerow_span( data && data.rslt && data.rslt.obj ? data.rslt.obj : -1 );\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tif(this.data.to) { clearTimeout(this.data.to); }\n\t\t\t\t\t\tthis.data.to = setTimeout( (function (t, o) { return function() { t._prepare_wholerow_ul(o); }; })(this,  data && data.rslt && data.rslt.obj ? data.rslt.obj : -1), 0);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"deselect_all.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-clicked\").removeClass(\"jstree-clicked \" + (this.data.themeroller ? this._get_settings().themeroller.item_a : \"\" ));\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"select_node.jstree deselect_node.jstree \", $.proxy(function (e, data) { \n\t\t\t\t\t\tdata.rslt.obj.each(function () { \n\t\t\t\t\t\t\tvar ref = data.inst.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt((($(this).offset().top - data.inst.get_container().offset().top + data.inst.get_container()[0].scrollTop) / data.inst.data.core.li_height),10)) + \")\");\n\t\t\t\t\t\t\t// ref.children(\"a\")[e.type === \"select_node\" ? \"addClass\" : \"removeClass\"](\"jstree-clicked\");\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\"a\").attr(\"class\"));\n\t\t\t\t\t\t});\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"hover_node.jstree dehover_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-hovered\").removeClass(\"jstree-hovered \" + (this.data.themeroller ? this._get_settings().themeroller.item_h : \"\" ));\n\t\t\t\t\t\tif(e.type === \"hover_node\") {\n\t\t\t\t\t\t\tvar ref = this.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt(((data.rslt.obj.offset().top - this.get_container().offset().top + this.get_container()[0].scrollTop) / this.data.core.li_height),10)) + \")\");\n\t\t\t\t\t\t\t// ref.children(\"a\").addClass(\"jstree-hovered\");\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\".jstree-hovered\").attr(\"class\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\".jstree-wholerow-span, ins.jstree-icon, li\", \"click.jstree\", function (e) {\n\t\t\t\t\t\tvar n = $(e.currentTarget);\n\t\t\t\t\t\tif(e.target.tagName === \"A\" || (e.target.tagName === \"INS\" && n.closest(\"li\").is(\".jstree-open, .jstree-closed\"))) { return; }\n\t\t\t\t\t\tn.closest(\"li\").children(\"a:visible:eq(0)\").click();\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t})\n\t\t\t\t.delegate(\"li\", \"mouseover.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\tif($(e.currentTarget).children(\".jstree-hovered, .jstree-clicked\").length) { return false; }\n\t\t\t\t\t\tthis.hover_node(e.currentTarget);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"li\", \"mouseleave.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($(e.currentTarget).children(\"a\").hasClass(\"jstree-hovered\").length) { return; }\n\t\t\t\t\t\tthis.dehover_node(e.currentTarget);\n\t\t\t\t\t}, this));\n\t\t\tif(is_ie7 || is_ie6) {\n\t\t\t\t$.vakata.css.add_sheet({ str : \".jstree-\" + this.get_index() + \" { position:relative; } \", title : \"jstree\" });\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t},\n\t\t__destroy : function () {\n\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\n\t\t\tthis.get_container().find(\".jstree-wholerow-span\").remove();\n\t\t},\n\t\t_fn : {\n\t\t\t_prepare_wholerow_span : function (obj) {\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\n\t\t\t\tobj.each(function () {\n\t\t\t\t\t$(this).find(\"li\").addBack().each(function () {\n\t\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t\tif($t.children(\".jstree-wholerow-span\").length) { return true; }\n\t\t\t\t\t\t$t.prepend(\"<span class='jstree-wholerow-span' style='width:\" + ($t.parentsUntil(\".jstree\",\"li\").length * 18) + \"px;'>&#160;</span>\");\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t_prepare_wholerow_ul : function () {\n\t\t\t\tvar o = this.get_container().children(\"ul\").eq(0), h = o.html();\n\t\t\t\to.addClass(\"jstree-wholerow-real\");\n\t\t\t\tif(this.data.wholerow.last_html !== h) {\n\t\t\t\t\tthis.data.wholerow.last_html = h;\n\t\t\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\n\t\t\t\t\tthis.get_container().append(\n\t\t\t\t\t\to.clone().removeClass(\"jstree-wholerow-real\")\n\t\t\t\t\t\t\t.wrapAll(\"<div class='jstree-wholerow' />\").parent()\n\t\t\t\t\t\t\t.width(o.parent()[0].scrollWidth)\n\t\t\t\t\t\t\t.css(\"top\", (o.height() + ( is_ie7 ? 5 : 0)) * -1 )\n\t\t\t\t\t\t\t.find(\"li[id]\").each(function () { this.removeAttribute(\"id\"); }).end()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'.jstree .jstree-wholerow-real { position:relative; z-index:1; } ' + \n\t\t\t'.jstree .jstree-wholerow-real li { cursor:pointer; } ' + \n\t\t\t'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } ' + \n\t\t\t'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } ' + \n\t\t\t'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } ' + \n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } ' + \n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }' + \n\t\t\t'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }' + \n\t\t\t'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } ' + \n\t\t\t'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';\n\t\tif(is_ff2) {\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } ' + \n\t\t\t\t'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';\n\t\t}\n\t\tif(is_ie7 || is_ie6) {\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } ' + \n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';\n\t\t}\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/*\n* jsTree model plugin\n* This plugin gets jstree to use a class model to retrieve data, creating great dynamism\n*/\n(function ($) {\n\tvar nodeInterface = [\"getChildren\",\"getChildrenCount\",\"getAttr\",\"getName\",\"getProps\"],\n\t\tvalidateInterface = function(obj, inter) {\n\t\t\tvar valid = true;\n\t\t\tobj = obj || {};\n\t\t\tinter = [].concat(inter);\n\t\t\t$.each(inter, function (i, v) {\n\t\t\t\tif(!$.isFunction(obj[v])) { valid = false; return false; }\n\t\t\t});\n\t\t\treturn valid;\n\t\t};\n\t$.jstree.plugin(\"model\", {\n\t\t__init : function () {\n\t\t\tif(!this.data.json_data) { throw \"jsTree model: jsTree json_data plugin not included.\"; }\n\t\t\tthis._get_settings().json_data.data = function (n, b) {\n\t\t\t\tvar obj = (n == -1) ? this._get_settings().model.object : n.data(\"jstree_model\");\n\t\t\t\tif(!validateInterface(obj, nodeInterface)) { return b.call(null, false); }\n\t\t\t\tif(this._get_settings().model.async) {\n\t\t\t\t\tobj.getChildren($.proxy(function (data) {\n\t\t\t\t\t\tthis.model_done(data, b);\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.model_done(obj.getChildren(), b);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tdefaults : {\n\t\t\tobject : false,\n\t\t\tid_prefix : false,\n\t\t\tasync : false\n\t\t},\n\t\t_fn : {\n\t\t\tmodel_done : function (data, callback) {\n\t\t\t\tvar ret = [], \n\t\t\t\t\ts = this._get_settings(),\n\t\t\t\t\t_this = this;\n\n\t\t\t\tif(!$.isArray(data)) { data = [data]; }\n\t\t\t\t$.each(data, function (i, nd) {\n\t\t\t\t\tvar r = nd.getProps() || {};\n\t\t\t\t\tr.attr = nd.getAttr() || {};\n\t\t\t\t\tif(nd.getChildrenCount()) { r.state = \"closed\"; }\n\t\t\t\t\tr.data = nd.getName();\n\t\t\t\t\tif(!$.isArray(r.data)) { r.data = [r.data]; }\n\t\t\t\t\tif(_this.data.types && $.isFunction(nd.getType)) {\n\t\t\t\t\t\tr.attr[s.types.type_attr] = nd.getType();\n\t\t\t\t\t}\n\t\t\t\t\tif(r.attr.id && s.model.id_prefix) { r.attr.id = s.model.id_prefix + r.attr.id; }\n\t\t\t\t\tif(!r.metadata) { r.metadata = { }; }\n\t\t\t\t\tr.metadata.jstree_model = nd;\n\t\t\t\t\tret.push(r);\n\t\t\t\t});\n\t\t\t\tcallback.call(null, ret);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n})();","/* ------------------------------------------------------------------------\n * Anmeldeverfahren und -sets\n * ------------------------------------------------------------------------ */\n\njQuery(document).ready(function($) {\n    $(document).on('change', 'tr.course input', function(i) {\n        STUDIP.Admission.toggleNotSavedAlert();\n    });\n\n    $('a.userlist-delete-user').on('click', function(event) {\n        $(this)\n            .closest('tr')\n            .remove();\n        return false;\n    });\n});\n"],"sourceRoot":""}