!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=65)}({65:function(e,t){STUDIP.Avatar={image:"",readFile:function(e){if(window.FileReader&&e.files&&e.files[0]){var t,a=new window.FileReader;if(e.files[0].size<=$(e).data("max-size")){var r=$("div#avatar-preview"),o=r.closest('div[role="dialog"]');o.length>0?(r.css("height",o.height()-200),r.css("width",o.width()-220),r.css("max-height",o.height()-200),r.css("max-width",o.width()-220)):(o=$("#layout_content"),r.css("height",.75*o.height()),r.css("width",.75*o.width()),r.css("max-height",.75*o.height()),r.css("max-width",.75*o.width()),$("#avatar-buttons").css("left",r.width()+10),$("#avatar-buttons").css("right",0)),a.onload=function(e){image=$("#new-avatar"),image.attr("src",e.target.result),image.cropper({aspectRatio:1,viewMode:2}),t=image.data("cropper")},a.readAsDataURL(e.files[0]),$("#avatar-buttons").removeClass("hidden-js"),$("label.file-upload").hide(),$("#avatar-zoom-in").on("click",function(){return t.zoom(.1),!1}),$("#avatar-zoom-out").on("click",function(){return t.zoom(-.1),!1}),$("#avatar-rotate-clockwise").on("click",function(){return t.rotate(90),!1}),$("#avatar-rotate-counter-clockwise").on("click",function(){return t.rotate(-90),!1}),$("#submit-avatar").on("click",function(){$("#cropped-image").attr("value",image.cropper("getCroppedCanvas").toDataURL())})}else alert($(e).data("message-too-large"))}else alert("Sorry - your browser doesn't support the FileReader API")},checkImageSize:function(){var e=image.cropper("getData");return!(e.width<250||e.height<250)||confirm("The image is too small. Do you really want to continue?")}},function(e,t){"use strict";e(function(){e(document).on("dialog-update",function(){e("#avatar-upload").on("change",function(){t.Avatar.readFile(this)}),e("form.settings-avatar").on("submit",function(e){return t.Avatar.checkImageSize(e)})}),e("#avatar-upload").on("change",function(){t.Avatar.readFile(this)}),e("form.settings-avatar").on("submit",function(e){return t.Avatar.checkImageSize(e)})})}(jQuery,STUDIP)}});
//# sourceMappingURL=studip-avatar.js.map