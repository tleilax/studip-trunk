@shadow: 1px 1px 0 @dark-gray-color-60;
@item-width: 150px;

/* Structure for action submenus which open on hover */
*, section.contentbox article header nav {
  ul.actionmenu {
    list-style-type: none;
    padding: 2px;
    position: relative;
    text-align: left;

    &:hover {
      background-color: white;
      box-shadow: @shadow;
    }

    img, svg {
      height: 20px;
      width: 20px;
    }

    ul {
      display: none;
      background-color: white;
      box-shadow: @shadow;
      padding: 5px;
      width: @item-width;
      z-index: 999;

      img, svg {
        padding-right: 10px;
      }

    }

    li {
      padding-left: 5px;

      > input[type="checkbox"] {
        display: none;

        &:checked {
          // Position submenus to the left of the parent item.
          ~ ul {
            display: block;
            position: absolute;
            right: @item-width + 6px;
            top: 0;

            li {
              display: block;
              padding: 3px;
              width: @item-width;

              a {
                display: inline;
                padding-left: 0;
              }
            }
          }
        }
      }

      // Submenus of non-first items need some vertical offset.
      &:not(:first-child) {
        > input[type="checkbox"] {
          &:checked {
            ~ ul {
              top: 2em;
            }
          }
        }
      }
    }

    > li {
      > input[type="checkbox"] {
        &:checked {
          // First submenu is positioned directly under action icon
          ~ ul {
            display: block;
            position: absolute;
            right: 0;
            top: inherit;
          }
        }
      }
    }
  }
}
